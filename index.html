<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×›×œ×™ ××§×¦×•×¢×™ ×œ× ×™×”×•×œ ×¡×™×›×•× ×™× ×‘×¤×¨×•×™×§×˜×™×</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .workflow {
            background: #34495e;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .workflow-step {
            text-align: center;
            flex: 1;
            min-width: 200px;
            margin: 5px;
        }

        .workflow-step .number {
            background: #e74c3c;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            box-shadow: 0 1px 3px rgba(0,0,0,0.06);
        }

        .tab {
            flex: 1;
            padding: 16px 15px;
            background: #f8f9fa;
            border: none;
            color: #6c757d;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            border-right: 1px solid #e9ecef;
            text-transform: none;
            letter-spacing: 0.2px;
        }

        .tab:last-child {
            border-right: none;
        }

        .tab:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* ×—×œ×§ ×: ×”×’×“×¨×ª ×”×¤×¨×•×™×§×˜ - ××¤×•×¨ ×¨×š ×××•×“ */
        .tab:nth-child(1) {
            background: linear-gradient(135deg, #adb5bd 0%, #95a5a6 100%);
            color: white;
            border-bottom: 3px solid #868e96;
        }

        .tab:nth-child(1):hover {
            background: linear-gradient(135deg, #b7bfc7 0%, #a5b5b6 100%);
            box-shadow: 0 3px 12px rgba(173, 181, 189, 0.25);
        }

        .tab:nth-child(1).active {
            background: linear-gradient(135deg, #c1c9d1 0%, #b5c5c6 100%);
            border-bottom: 3px solid #adb5bd;
            box-shadow: 0 4px 15px rgba(173, 181, 189, 0.3);
        }

        /* ×—×œ×§ ×‘: × ×™×”×•×œ ×¡×™×›×•× ×™× - ××“×•× ×¨×š ×××•×“ */
        .tab:nth-child(2) {
            background: linear-gradient(135deg, #f8a5a5 0%, #e67e82 100%);
            color: white;
            border-bottom: 3px solid #e07a7a;
        }

        .tab:nth-child(2):hover {
            background: linear-gradient(135deg, #f9b5b5 0%, #e68e92 100%);
            box-shadow: 0 3px 12px rgba(248, 165, 165, 0.25);
        }

        .tab:nth-child(2).active {
            background: linear-gradient(135deg, #fac5c5 0%, #e69ea2 100%);
            border-bottom: 3px solid #f8a5a5;
            box-shadow: 0 4px 15px rgba(248, 165, 165, 0.3);
        }

        /* ×—×œ×§ ×’: ×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª - ×›×ª×•× ×¨×š ×××•×“ */
        .tab:nth-child(3) {
            background: linear-gradient(135deg, #fcc468 0%, #f0ad4e 100%);
            color: white;
            border-bottom: 3px solid #eea236;
        }

        .tab:nth-child(3):hover {
            background: linear-gradient(135deg, #fcd478 0%, #f1bd5e 100%);
            box-shadow: 0 3px 12px rgba(252, 196, 104, 0.25);
        }

        .tab:nth-child(3).active {
            background: linear-gradient(135deg, #fde488 0%, #f2cd6e 100%);
            border-bottom: 3px solid #fcc468;
            box-shadow: 0 4px 15px rgba(252, 196, 104, 0.3);
        }

        /* ×—×œ×§ ×“: ××¡×“×¨×ª ×—×“×©× ×•×ª - ×™×¨×•×§ ×¨×š ×××•×“ */
        .tab:nth-child(4) {
            background: linear-gradient(135deg, #7dd3c0 0%, #5cb3a1 100%);
            color: white;
            border-bottom: 3px solid #52a69a;
        }

        .tab:nth-child(4):hover {
            background: linear-gradient(135deg, #8de3d0 0%, #6cc3b1 100%);
            box-shadow: 0 3px 12px rgba(125, 211, 192, 0.25);
        }

        .tab:nth-child(4).active {
            background: linear-gradient(135deg, #9df3e0 0%, #7cd3c1 100%);
            border-bottom: 3px solid #7dd3c0;
            box-shadow: 0 4px 15px rgba(125, 211, 192, 0.3);
        }

        /* ×—×œ×§ ×”: ×“×•×— ××¡×›× - ×›×—×•×œ ×¨×š ×××•×“ */
        .tab:nth-child(5) {
            background: linear-gradient(135deg, #74b9ff 0%, #5a9fd8 100%);
            color: white;
            border-bottom: 3px solid #4d94d1;
        }

        .tab:nth-child(5):hover {
            background: linear-gradient(135deg, #84c9ff 0%, #6aafe8 100%);
            box-shadow: 0 3px 12px rgba(116, 185, 255, 0.25);
        }

        .tab:nth-child(5).active {
            background: linear-gradient(135deg, #94d9ff 0%, #7abff8 100%);
            border-bottom: 3px solid #74b9ff;
            box-shadow: 0 4px 15px rgba(116, 185, 255, 0.3);
        }

        /* Active tab general styling */
        .tab.active {
            transform: translateY(-2px);
            z-index: 2;
            font-weight: 600;
        }

        /* Very subtle effects */
        .tab:hover {
            filter: brightness(1.05);
        }

        .tab.active {
            filter: brightness(1.08);
        }

        .tab-content {
            padding: 20px;
            min-height: 600px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 22px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .project-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .project-type {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            background: white;
        }

        .project-type:hover {
            border-color: #3498db;
            background: #ecf0f1;
        }

        .project-type.selected {
            border-color: #3498db;
            background: #3498db;
            color: white;
        }

        .project-type h4 {
            margin-bottom: 5px;
            font-size: 16px;
        }

        .project-type p {
            font-size: 12px;
            opacity: 0.8;
        }

        .alert {
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            border-left: 4px solid #3498db;
            background: #d5e8f7;
            color: #2c3e50;
        }

        .risk-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border: 1px solid #ddd;
        }

        .risk-table th {
            background: #34495e;
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #ddd;
        }

        .risk-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }

        .risk-table tbody tr:nth-child(even) {
            background: #f8f9fa;
        }

        .risk-table tbody tr:hover {
            background: #e8f4fd;
        }

        .risk-input {
            width: 100%;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 12px;
        }

        .risk-level {
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 12px;
            color: white;
        }

        .risk-low { background: #27ae60; }
        .risk-medium { background: #f39c12; }
        .risk-high { background: #e74c3c; }

        .matrix {
            display: grid;
            grid-template-columns: repeat(11, 40px);
            gap: 2px;
            margin: 20px 0;
            direction: ltr;
        }

        .matrix-cell {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid #ddd;
        }

        .matrix-header {
            background: #95a5a6;
            color: white;
        }

        .matrix-low { background: #d5f4e6; color: #27ae60; }
        .matrix-medium { background: #fef5e7; color: #f39c12; }
        .matrix-high { background: #fadbd8; color: #e74c3c; }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.16);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: 2px solid #5a6fd8;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
            border-color: #4c63d2;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border: 2px solid #0e8478;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #0e8478 0%, #2dd46b 100%);
            border-color: #0c6b5f;
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #8b4513;
            border: 2px solid #f4a261;
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #f4a261 0%, #e76f51 100%);
            color: white;
            border-color: #e76f51;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #721c24;
            border: 2px solid #ff6b7a;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #ff6b7a 0%, #c0392b 100%);
            color: white;
            border-color: #c0392b;
        }

        .btn-info {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            border: 2px solid #0984e3;
        }

        .btn-info:hover {
            background: linear-gradient(135deg, #0984e3 0%, #006ba6 100%);
            border-color: #006ba6;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3436;
            border: 2px solid #81ecec;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #81ecec 0%, #fd79a8 100%);
            color: white;
            border-color: #fd79a8;
        }

        .btn-dark {
            background: linear-gradient(135deg, #2d3436 0%, #636e72 100%);
            color: white;
            border: 2px solid #2d3436;
        }

        .btn-dark:hover {
            background: linear-gradient(135deg, #636e72 0%, #2d3436 100%);
            border-color: #636e72;
        }

        .btn-light {
            background: linear-gradient(135deg, #fab2b2 0%, #ffeaa7 100%);
            color: #2d3436;
            border: 2px solid #fab2b2;
        }

        .btn-light:hover {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab2b2 100%);
            border-color: #ffeaa7;
        }

        /* Special gradient buttons */
        .btn-gradient-ocean {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: 2px solid #667eea;
        }

        .btn-gradient-sunset {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            border: 2px solid #fa709a;
        }

        .btn-gradient-forest {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border: 2px solid #11998e;
        }

        .btn-gradient-fire {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: #8b4513;
            border: 2px solid #ff9a9e;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 12px;
            border-radius: 6px;
        }

        .btn-lg {
            padding: 16px 32px;
            font-size: 16px;
            border-radius: 10px;
        }

        /* Icon buttons */
        .btn-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            padding: 0;
        }

        /* Animated buttons */
        .btn-animated {
            position: relative;
            overflow: hidden;
        }

        .btn-animated::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-animated:hover::before {
            left: 100%;
        }

        /* Pulse effect */
        .btn-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
            }
        }

        /* Glow effect */
        .btn-glow {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
        }

        .btn-glow:hover {
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.8);
        }

        .summary-box {
            background: #ecf0f1;
            border: 1px solid #bdc3c7;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .summary-box h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }

        .strategy-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #3498db;
        }

        .strategy-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .innovation-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .innovation-level {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .innovation-level:hover {
            border-color: #3498db;
            background: #ecf0f1;
        }

        .innovation-level.selected {
            border-color: #3498db;
            background: #3498db;
            color: white;
        }

        .compliance-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .compliance-table th,
        .compliance-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: right;
        }

        .compliance-table th {
            background: #34495e;
            color: white;
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-text {
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
            color: #2c3e50;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #bdc3c7;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #27ae60);
            width: 0%;
            transition: width 0.5s ease;
        }

        .editable {
            cursor: pointer;
            padding: 10px;
            border: 2px dashed transparent;
            border-radius: 4px;
            min-height: 30px;
            transition: all 0.3s;
        }

        .editable:hover {
            border-color: #3498db;
            background: #ecf0f1;
        }

        .editing {
            border-color: #3498db !important;
            background: white !important;
        }

        .action-buttons {
            margin: 20px 0;
            text-align: center;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 15px;
            margin: 15px 0;
            font-size: 14px;
        }

        .info-label {
            font-weight: bold;
            color: #2c3e50;
        }

        .info-value {
            color: #34495e;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1 1 50%;
                min-width: 120px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .workflow {
                flex-direction: column;
            }
            
            .matrix {
                grid-template-columns: repeat(6, 35px);
            }
            
            .matrix-cell {
                width: 35px;
                height: 35px;
                font-size: 10px;
            }

            .info-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
/* ×›×¤×ª×•×¨ ×¢×¨×™×›×” */
        .edit-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .edit-toggle:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .edit-toggle.active {
            background: #27ae60;
        }

        /* ×›×¤×ª×•×¨ ×™×™×¦×•× PDF */
        .pdf-export {
            position: fixed;
            top: 80px;
            left: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .pdf-export:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .pdf-export.exporting {
            background: #f39c12;
            cursor: not-allowed;
        }

        /* ×¡×’× ×•×Ÿ ×œ×¢×¨×™×›×” */
        .editable {
            padding: 3px;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .editable[contenteditable="true"] {
            background: rgba(52, 152, 219, 0.1);
            border: 2px dashed #3498db;
            outline: none;
            cursor: text;
            padding: 5px;
        }

        .editable[contenteditable="true"]:hover {
            background: rgba(52, 152, 219, 0.2);
        }

        .editable[contenteditable="true"]:focus {
            background: rgba(52, 152, 219, 0.15);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }

        /* ×”×•×“×¢×ª ×”×¦×œ×—×” */
        .success-message {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .success-message.show {
            opacity: 1;
            transform: translateX(0);
        }

    /* Innovation Assessment Styles */
        .innovation-assessment-grid {
            display: grid;
            gap: 15px;
            margin: 15px 0;
        }

        .assessment-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .assessment-item:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15);
        }

        .assessment-item label {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .assessment-item input[type="checkbox"] {
            margin-top: 3px;
            transform: scale(1.2);
            accent-color: #3498db;
        }

        .regulation-note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 10px;
            font-size: 13px;
            color: #856404;
            margin-top: 8px;
            line-height: 1.4;
        }

        .regulation-note strong {
            color: #721c24;
        }

        /* Innovation Level Enhanced Styles */
        .innovation-level {
            position: relative;
            overflow: hidden;
        }

        .innovation-level::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
            opacity: 0;
        }

        .innovation-level:hover::before {
            animation: shimmer 1.5s ease-in-out;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
        }

        /* Enhanced Compliance Table */
        .compliance-table {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .compliance-table th {
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            position: relative;
        }

        .compliance-table th::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3498db,
                                        /* File Upload Styles */
        .file-upload-container {
            margin: 20px 0;
        }

        .file-upload-area {
            border: 3px dashed #3498db;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 100%);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .file-upload-area:hover {
            border-color: #2980b9;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.2);
        }

        .file-upload-area.drag-over {
            border-color: #27ae60;
            background: linear-gradient(135deg, #d5f4e6 0%, #a5d6a7 100%);
            border-style: solid;
        }

        .file-upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .file-upload-text {
            color: #2c3e50;
        }

        .file-upload-text strong {
            font-size: 18px;
            color: #3498db;
        }

        .file-upload-text small {
            color: #7f8c8d;
            font-style: italic;
        }

        .file-info {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .file-details {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .file-name {
            font-weight: bold;
            color: #2c3e50;
        }

        .file-size {
            font-size: 12px;
            color: #7f8c8d;
        }

        .analysis-results {
            background: #f0f8ff;
            border: 1px solid #3498db;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .analysis-results h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .analysis-content {
            background: white;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            max-height: 300px;
            overflow-y: auto;
        }

        .upload-progress {
            margin-top: 15px;
        }

        .upload-progress .progress-bar {
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            height: 25px;
            margin-bottom: 10px;
        }

        .upload-progress .progress-fill {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }

        .upload-progress .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: progress-shine 1.5s infinite;
        }

        @keyframes progress-shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .upload-progress .progress-text {
            text-align: center;
            font-weight: bold;
            color: #2c3e50;
        }

        /* File type icons */
        .file-upload-area.file-pdf { border-color: #e74c3c; }
        .file-upload-area.file-doc { border-color: #3498db; }
        .file-upload-area.file-txt { border-color: #95a5a6; }

        /* Responsive file upload */
        @media (max-width: 768px) {
            .file-upload-area {
                padding: 30px 15px;
            }
            
            .file-upload-icon {
                font-size: 36px;
            }
            
            .file-info {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
        @media (max-width: 768px) {
            .edit-toggle {
                top: 10px;
                left: 10px;
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .pdf-export {
                top: 65px;
                left: 10px;
                padding: 12px 20px;
                font-size: 0.9em;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1 1 50%;
                min-width: 120px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .workflow {
                flex-direction: column;
            }
            
            .matrix {
                grid-template-columns: repeat(6, 35px);
            }
            
            .matrix-cell {
                width: 35px;
                height: 35px;
                font-size: 10px;
            }

            .info-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }

        @media print {
            .edit-toggle, .pdf-export, .success-message {
                display: none !important;
            }
            
            .action-buttons,
            .btn {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
      
    <button class="edit-toggle" onclick="toggleEdit()">ğŸ¨ ×”×ª×—×œ ×¢×¨×™×›×”</button>
    <button class="pdf-export" onclick="exportToPDF()">ğŸ“„ ×™×™×¦×•× ×œ-PDF</button>
            
        <div class="header">
            <h1>×›×œ×™ ××§×¦×•×¢×™ ×œ× ×™×”×•×œ ×¡×™×›×•× ×™× ×‘×¤×¨×•×™×§×˜×™×</h1>
            <p>××¢×¨×›×ª ××ª×§×“××ª ×œ×”×¢×¨×›×” ×•× ×™×”×•×œ ×¡×™×›×•× ×™× ×œ×›×œ ×¡×•×’×™ ×”×¤×¨×•×™×§×˜×™×</p>
        </div>

        <div class="workflow">
            <div class="workflow-step">
                <div class="number">1</div>
                <div>×–×™×”×•×™ ×¡×™×›×•× ×™×<br>××™×¤×•×™ ×”×¡×™×›×•× ×™× ×”××¤×©×¨×™×™× ×‘×¤×¨×•×™×§×˜</div>
            </div>
            <div class="workflow-step">
                <div class="number">2</div>
                <div>× ×™×ª×•×— ×•×”×¢×¨×›×ª ×¡×™×›×•× ×™×<br>× ×™×ª×•×— ×”×¡×™×›×•× ×™× ×œ×¤×™ ×”×¡×ª×‘×¨×•×ª ×•×¢×•×¦××ª × ×–×§</div>
            </div>
            <div class="workflow-step">
                <div class="number">3</div>
                <div>×§×‘×™×¢×ª ××¡×˜×¨×˜×’×™×•×ª ×”×ª××•×“×“×•×ª<br>×ª×›× ×•×Ÿ ×¤×¢×•×œ×•×ª ×œ×× ×™×¢×” ×•×”×¤×—×ª×”</div>
            </div>
            <div class="workflow-step">
                <div class="number">4</div>
                <div>×‘×§×¨×” ×•××¢×§×‘<br>××¢×§×‘ ×©×•×˜×£ ×•×™×¢×™×œ×•×ª ×”××¡×˜×¨×˜×’×™×•×ª</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showSection('project-setup')">×—×œ×§ ×: ×”×’×“×¨×ª ×”×¤×¨×•×™×§×˜</button>
            <button class="tab" onclick="showSection('risk-management')">×—×œ×§ ×‘: × ×™×”×•×œ ×¡×™×›×•× ×™×</button>
            <button class="tab" onclick="showSection('response-plan')">×—×œ×§ ×’: ×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª</button>
            <button class="tab" onclick="showSection('innovation')">×—×œ×§ ×“: ××¡×“×¨×ª ×—×“×©× ×•×ª</button>
            <button class="tab" onclick="showSection('report')">×—×œ×§ ×”: ×“×•×— ××¡×›×</button>
        </div>

        <div class="tab-content">
            <div id="project-setup" class="section active">
                <h2>×”×’×“×¨×ª ×”×¤×¨×•×™×§×˜</h2>
                <p>×‘×—×œ×§ ×–×” ×¢×œ×™×š ×œ×”×’×“×™×¨ ××ª ×”×¤×¨×•×™×§×˜, ××˜×¨×•×ª×™×• ×•×”×ª×•×¦×¨×™× ×”××¦×•×¤×™×. ××™×“×¢ ×–×” ×™×©××© ×›×‘×¡×™×¡ ×œ× ×™×ª×•×— ×”×¡×™×›×•× ×™× ×‘×©×œ×‘×™× ×”×‘××™×.</p>
<!-- File Upload Section -->
                <div class="summary-box">
                    <h3>ğŸ“ ×”×¢×œ××ª ××¡××š ×ª×¤×™×¡×”</h3>
                    <p>×”×¢×œ×” ××¡××š ×ª×¤×™×¡×” ×©×œ ×”×¤×¨×•×™×§×˜ (PDF, Word, Google Docs) ×œ× ×™×ª×•×— ××•×˜×•××˜×™ ×•××™×œ×•×™ ×—×œ×§×™ ×©×œ ×”×˜×•×¤×¡.</p>
                    
                    <div class="file-upload-container">
                        <div class="file-upload-area" id="fileUploadArea" onclick="triggerFileInput()">
                            <div class="file-upload-icon">ğŸ“</div>
                            <div class="file-upload-text">
                                <strong>×œ×—×¥ ×›××Ÿ ×œ×”×¢×œ××ª ×§×•×‘×¥</strong><br>
                                <span>××• ×’×¨×•×¨ ×§×•×‘×¥ ×œ×›××Ÿ</span><br>
                                <small>× ×ª××›×™×: PDF, DOC, DOCX, TXT</small>
                            </div>
                        </div>
                        
                        <input type="file" id="fileInput" accept=".pdf,.doc,.docx,.txt" style="display: none;" onchange="handleFileUpload(event)">
                        
                        <div id="fileInfo" class="file-info" style="display: none;">
                            <div class="file-details">
                                <span class="file-name" id="fileName"></span>
                                <span class="file-size" id="fileSize"></span>
                            </div>
                            <button class="btn btn-gradient-fire btn-sm" onclick="removeFile()">ğŸ—‘ï¸ ×”×¡×¨ ×§×•×‘×¥</button>
                        </div>
                        
                        <div id="analysisResults" class="analysis-results" style="display: none;">
                            <h4>ğŸ” ×ª×•×¦××•×ª × ×™×ª×•×— ×”××¡××š:</h4>
                            <div id="analysisContent"></div>
                            <button class="btn btn-gradient-forest btn-sm" onclick="applyAnalysisToForm()">âœ… ×”×—×œ ×¢×œ ×”×˜×•×¤×¡</button>
                        </div>
                        
                        <div id="uploadProgress" class="upload-progress" style="display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="uploadProgressFill"></div>
                            </div>
                            <div class="progress-text" id="uploadProgressText">××¢×œ×” ×§×•×‘×¥...</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="project-name">×©× ×”×¤×¨×•×™×§×˜ *</label>
                        <input type="text" id="project-name" placeholder="×”×›× ×¡ ×©× ×¤×¨×•×™×§×˜">
                    </div>
                    <div class="form-group">
                        <label for="project-manager">×× ×”×œ ×”×¤×¨×•×™×§×˜ *</label>
                        <input type="text" id="project-manager" placeholder="×©× ×× ×”×œ ×”×¤×¨×•×™×§×˜">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="organization">××•×¡×“ ×—×™× ×•×›×™/××¨×’×•×Ÿ *</label>
                        <input type="text" id="organization" placeholder="×©× ×”××¨×’×•×Ÿ ××• ×”××•×¡×“">
                    </div>
                    <div class="form-group">
                        <label for="project-scope">×”×™×§×£ ×”×¤×¨×•×™×§×˜</label>
                        <select id="project-scope">
                            <option value="">×‘×—×¨ ×”×™×§×£</option>
                            <option value="local">××§×•××™ (×›×™×ª×”/××—×œ×§×”)</option>
                            <option value="school">××•×¡×“×™ (×‘×™×ª ×¡×¤×¨/×™×—×™×“×”)</option>
                            <option value="district">××–×•×¨×™ (××—×•×–/××–×•×¨)</option>
                            <option value="national">××¨×¦×™</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>×¡×•×’ ×”×¤×¨×•×™×§×˜ *</label>
                    <div class="project-types">
                        <div class="project-type" onclick="selectProjectType(this, 'educational')">
                            <h4>×—×™× ×•×›×™</h4>
                            <p>×¤×¨×•×™×§×˜×™× ×—×™× ×•×›×™×™× ×•×¤×“×’×•×’×™×™×</p>
                        </div>
                        <div class="project-type" onclick="selectProjectType(this, 'technological')">
                            <h4>×˜×›× ×•×œ×•×’×™</h4>
                            <p>×¤×¨×•×™×§×˜×™× ×˜×›× ×•×œ×•×’×™×™× ×•×“×™×’×™×˜×œ×™×™×</p>
                        </div>
                        <div class="project-type" onclick="selectProjectType(this, 'infrastructure')">
                            <h4>×ª×©×ª×™×•×ª</h4>
                            <p>×¤×¨×•×™×§×˜×™ ×ª×©×ª×™×ª ×•××‘× ×™×</p>
                        </div>
                        <div class="project-type" onclick="selectProjectType(this, 'organizational')">
                            <h4>××¨×’×•× ×™</h4>
                            <p>×©×™× ×•×™×™× ××¨×’×•× ×™×™× ×•×ª×”×œ×™×›×™×™×</p>
                        </div>
                        <div class="project-type" onclick="selectProjectType(this, 'research')">
                            <h4>××—×§×¨×™</h4>
                            <p>×¤×¨×•×™×§×˜×™ ××—×§×¨ ×•×¤×™×ª×•×—</p>
                        </div>
                        <div class="project-type" onclick="selectProjectType(this, 'community')">
                            <h4>×§×”×™×œ×ª×™</h4>
                            <p>×¤×¨×•×™×§×˜×™× ×§×”×™×œ×ª×™×™× ×•×—×‘×¨×ª×™×™×</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="project-description">×ª×™××•×¨ ×”×¤×¨×•×™×§×˜ *</label>
                    <textarea id="project-description" rows="4" placeholder="×ª××¨ ××ª ××˜×¨×•×ª ×”×¤×¨×•×™×§×˜, ×”×ª×•×¦×¨×™× ×”××¦×•×¤×™× ×•×”×ª×”×œ×™×š ×”××ª×•×›× ×Ÿ"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="start-date">×ª××¨×™×š ×”×ª×—×œ×”</label>
                        <input type="date" id="start-date">
                    </div>
                    <div class="form-group">
                        <label for="end-date">×ª××¨×™×š ×¡×™×•× ××©×•×¢×¨</label>
                        <input type="date" id="end-date">
                    </div>
                </div>

                <div class="form-group">
                    <label for="stakeholders">×‘×¢×œ×™ ×¢× ×™×™×Ÿ ××¨×›×–×™×™×</label>
                    <textarea id="stakeholders" rows="3" placeholder="×¨×©×•× ××ª ×”×’×•×¨××™× ×”×¢×™×§×¨×™×™× ×”××¢×•×¨×‘×™× ×‘×¤×¨×•×™×§×˜"></textarea>
                </div>

                <div class="summary-box">
                    <h3>×¡×™×›×•× ×”×’×“×¨×ª ×”×¤×¨×•×™×§×˜</h3>
                    <p>×œ×”××©×š ×”×ª×”×œ×™×š, ××œ× ××ª ×¤×¨×˜×™ ×”×¤×¨×•×™×§×˜ ×•×œ×—×¥ ×¢×œ ×›×¤×ª×•×¨ "×”××©×š ×œ× ×™×”×•×œ ×¡×™×›×•× ×™×" ×‘×ª×—×ª×™×ª ×”×¢××•×“.</p>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-gradient-ocean btn-animated btn-lg" onclick="showSection('risk-management')">
                        â¡ï¸ ×”××©×š ×œ× ×™×”×•×œ ×¡×™×›×•× ×™×
                    </button>
                </div>
            </div>

            <div id="risk-management" class="section">
                <h2>× ×™×”×•×œ ×¡×™×›×•× ×™×</h2>
                <p>×‘×—×œ×§ ×–×” ×¢×œ×™×š ×œ×–×”×•×ª ×•×œ×”×¢×¨×™×š ××ª ×”×¡×™×›×•× ×™× ×•×”×–×“×× ×•×™×•×ª ×”×¢×™×§×¨×™×™× ×‘×¤×¨×•×™×§×˜. ×“×¨×’ ××ª ×”×¡×ª×‘×¨×•×ª ×”×¡×™×›×•×Ÿ ×•××ª ×¢×•×¦××ª ×”× ×–×§ ×”××¤×©×¨×™ ×‘×¡×•×œ× ×©×œ 1-10. ×©×™× ×œ×‘ ×©×“×¨×’×ª ×”×—×•××¨×” ××—×•×©×‘×ª ××•×˜×•××˜×™×ª ×›××›×¤×œ×” ×©×œ ×”×¡×ª×‘×¨×•×ª ×•× ×–×§.</p>
                <button class="btn btn-gradient-forest btn-pulse" onclick="addRisk()">â• ×”×•×¡×£ ×¡×™×›×•×Ÿ ×—×“×©</button>
                <table class="risk-table">
                    <thead>
                        <tr>
                            <th>×ª×™××•×¨ ×”×¡×™×›×•×Ÿ</th>
                            <th>×§×˜×’×•×¨×™×”</th>
                            <th>×”×¡×ª×‘×¨×•×ª (1-10)</th>
                            <th>×¢×•×¦××ª × ×–×§ (1-10)</th>
                            <th>×¨××ª ×—×•××¨×”</th>
                            <th>×¤×¢×•×œ×•×ª</th>
                        </tr>
                    </thead>
                    <tbody id="risks-table">
                        </tbody>
                </table>

                <div class="summary-box">
                    <h3>××˜×¨×™×¦×ª ×¡×™×›×•× ×™×</h3>
                    <div style="display: flex; gap: 20px; align-items: center; margin: 15px 0;">
                        <div style="background: #e74c3c; color: white; padding: 10px; border-radius: 4px;">×¡×™×›×•×Ÿ ×’×‘×•×” (65-100)</div>
                        <div style="background: #f39c12; color: white; padding: 10px; border-radius: 4px;">×¡×™×›×•×Ÿ ×‘×™× ×•× ×™ (21-64)</div>
                        <div style="background: #27ae60; color: white; padding: 10px; border-radius: 4px;">×¡×™×›×•×Ÿ × ××•×š (1-20)</div>
                    </div>
                    <div class="matrix" id="risk-matrix">
                        </div>
                </div>

                <div class="summary-box">
                    <h3>×¡×™×›×•× × ×™×”×•×œ ×”×¡×™×›×•× ×™×</h3>
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-number risk-high" id="high-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” ×’×‘×•×”×”</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number risk-medium" id="medium-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” ×‘×™× ×•× ×™×ª</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number risk-low" id="low-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” × ××•×›×”</div>
                        </div>
                    </div>
                    <p>×”×©×œ×‘ ×”×‘×: ×¢×‘×•×¨ ×œ×œ×©×•× ×™×ª "×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª" ×›×“×™ ×œ×¤×ª×— ××¡×˜×¨×˜×’×™×•×ª ×œ×”×¤×—×ª×ª ×”×¡×™×›×•× ×™× ×©×–×•×”×•.</p>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-gradient-ocean btn-animated btn-lg" onclick="showSection('response-plan')">
                        â¡ï¸ ×”××©×š ×œ×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª
                    </button>
                </div>
            </div>

            <div id="response-plan" class="section">
                <h2>×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª</h2>
                <p>×‘×—×œ×§ ×–×” ×¢×œ×™×š ×œ×¤×ª×— ××¡×˜×¨×˜×’×™×•×ª ×¡×¤×¦×™×¤×™×•×ª ×œ×”×¤×—×ª×ª ×”×¡×™×›×•× ×™× ×©×–×•×”×•. ×”×ª××§×“ ×‘×¡×™×›×•× ×™× ×‘×¢×œ×™ ×“×¨×’×ª ×—×•××¨×” ×’×‘×•×”×” ×•×‘×™× ×•× ×™×ª.</p>
                <div id="response-strategies">
                    </div>

                <div class="summary-box">
                    <h3>××¡×˜×¨×˜×’×™×•×ª ×œ×”×ª××•×“×“×•×ª ×¢× ×¡×™×›×•× ×™×</h3>
                    <div class="form-row">
                        <div class="strategy-card">
                            <h4>××¡×˜×¨×˜×’×™×™×ª ×× ×™×¢×”</h4>
                            <p>×¤×¢×•×œ×•×ª ×©××˜×¨×ª×Ÿ ×œ×× ×•×¢ ××ª ×”×ª×¨×—×©×•×ª ×”×¡×™×›×•×Ÿ ××• ×œ×”×¤×—×™×ª ××ª ×”×¡×‘×™×¨×•×ª ×œ×”×ª×¨×—×©×•×ª×•.</p>
                            <ul>
                                <li>×–×™×”×•×™ ××•×§×“× ×©×œ ×‘×¢×™×•×ª ×¤×•×˜× ×¦×™××œ×™×•×ª</li>
                                <li>×”×›×©×¨×” ×•×”×“×¨×›×” ××§×“×™××”</li>
                                <li>×‘×“×™×§×•×ª ××™×›×•×ª</li>
                            </ul>
                        </div>
                        <div class="strategy-card">
                            <h4>××¡×˜×¨×˜×’×™×™×ª ×”×¤×—×ª×”</h4>
                            <p>×¤×¢×•×œ×•×ª ×©××˜×¨×ª×Ÿ ×œ×”×§×˜×™×Ÿ ××ª ×¢×•×¦××ª ×”× ×–×§ ×× ×”×¡×™×›×•×Ÿ ×™×ª×××©.</p>
                            <ul>
                                <li>×’×™×‘×•×™ ×•×ª×›× ×™×•×ª ×—×œ×•×¤×™×•×ª</li>
                                <li>×¤×™×–×•×¨ ×¡×™×›×•× ×™×</li>
                                <li>×”×’×“×¨×ª ×ª×”×œ×™×›×™ ×¢×‘×•×“×” ×‘×¨×•×¨×™×</li>
                            </ul>
                        </div>
                        <div class="strategy-card">
                            <h4>××¡×˜×¨×˜×’×™×™×ª ×”×ª××•×“×“×•×ª</h4>
                            <p>×ª×•×›× ×™×•×ª ×¤×¢×•×œ×” ×œ××§×¨×” ×©×”×¡×™×›×•×Ÿ ××ª×××©.</p>
                            <ul>
                                <li>× ×”×œ×™ ×—×™×¨×•×</li>
                                <li>×¦×•×•×ª×™ ×ª×’×•×‘×” ××”×™×¨×”</li>
                                <li>×ª×§×¦×™×‘ ×—×™×¨×•×</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="summary-box">
                    <h3>×¡×™×›×•× ×ª×•×›× ×™×ª ×”×”×ª××•×“×“×•×ª</h3>
                    <p>×”×©×œ×‘ ×”×‘×: ×¢×‘×•×¨ ×œ×œ×©×•× ×™×ª "××¡×“×¨×ª ×—×“×©× ×•×ª" ×›×“×™ ×œ×”×¢×¨×™×š ××ª ×¨××ª ×”×—×“×©× ×•×ª ×©×œ ×”×¤×¨×•×™×§×˜ ×•×”×ª×××ª×• ×œ××¡×“×¨×ª ×—×“×©× ×•×ª ×—×™× ×•×›×™×ª.</p>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-gradient-ocean btn-animated btn-lg" onclick="showSection('innovation')">
                        â¡ï¸ ×”××©×š ×œ××¡×“×¨×ª ×—×“×©× ×•×ª
                    </button>
                </div>
            </div>

            <!-- Innovation Assessment Section - UPDATED -->
<div id="innovation" class="section">
    <h2>××¡×“×¨×ª ×—×“×©× ×•×ª ×—×™× ×•×›×™×ª</h2>
    <p>×‘×—×œ×§ ×–×” ×ª×‘×—×Ÿ ××ª ×¨××ª ×”×—×“×©× ×•×ª ×©×œ ×”×¤×¨×•×™×§×˜ ×•××ª ×”×ª×××ª×• ×œ×“×¨×™×©×•×ª ×”××¡×“×¨×” ×œ×¤×™ ×—×•×–×¨ ×× ×›"×œ ××©×¨×“ ×”×—×™× ×•×š. ×”×¢×¨×›×” × ×›×•× ×” ×ª×¡×™×™×¢ ×‘×”×‘× ×ª ××™×“×ª ×”×¦×•×¨×š ×‘××™×©×•×¨×™× ×•×‘×ª××™×›×”.</p>
    
    <!-- ×”×’×“×¨×•×ª ×—×“×©× ×•×ª ××—×¨××™×ª -->
    <div class="summary-box">
        <h3>ğŸ¯ ×”×’×“×¨×ª ×”×—×“×©× ×•×ª ×”×—×™× ×•×›×™×ª</h3>
        <div class="alert">
            <strong>×—×“×©× ×•×ª ××—×¨××™×ª (RRI - Responsible Research and Innovation):</strong><br>
            ×ª×”×œ×™×š ×”×œ×•×§×— ×‘×—×©×‘×•×Ÿ ×”×©×¤×¢×•×ª ×•×”×©×¤×¢×•×ª ××¤×©×¨×™×•×ª ×¢×œ ×”×¡×‘×™×‘×” ×•×”×—×‘×¨×” ×‘××”×œ×š ××—×§×¨ ×•×¤×™×ª×•×— ×˜×›× ×•×œ×•×’×™, ×‘×”×™×‘×˜×™× ××ª×™×™×, ××©×¤×˜×™×™× ×•×—×‘×¨×ª×™×™×.
        </div>
        
        <div class="form-group">
            <label for="innovation-description-detailed">×ª×™××•×¨ ××¤×•×¨×˜ ×©×œ ×”×—×“×©× ×•×ª ×”×—×™× ×•×›×™×ª *</label>
            <textarea id="innovation-description-detailed" rows="4" placeholder="×ª××¨ ×‘×¤×™×¨×•×˜ ××ª ×”××¡×¤×§×˜×™× ×”×—×“×©× ×™×™× ×©×œ ×”×¤×¨×•×™×§×˜, ×›×™×¦×“ ×”×•× ×©×•× ×” ××”× ×•×”×’ ×”×§×™×™×, ×•××” ×”×¢×¨×š ×”××•×¡×£ ×©×”×•× ××‘×™×"></textarea>
        </div>
    </div>

    <!-- ×”×¢×¨×›×ª ×¨××ª ×”×—×“×©× ×•×ª -->
    <div class="summary-box">
        <h3>ğŸ“Š ×”×¢×¨×›×ª ×¨××ª ×”×—×“×©× ×•×ª</h3>
        <div class="innovation-levels">
            <div class="innovation-level" onclick="selectInnovationLevel(this, 'low')">
                <h4>× ××•×›×” (1-8)</h4>
                <p>×©×™×¤×•×¨×™× ×§×œ×™× ×œ×ª×”×œ×™×›×™× ×§×™×™××™×</p>
            </div>
            <div class="innovation-level" onclick="selectInnovationLevel(this, 'medium')">
                <h4>×‘×™× ×•× ×™×ª (9-16)</h4>
                <p>×©×™× ×•×™×™× ××©××¢×•×ª×™×™× ×‘××ª×•×“×•×œ×•×’×™×”</p>
            </div>
            <div class="innovation-level" onclick="selectInnovationLevel(this, 'high')">
                <h4>×’×‘×•×”×” (17-25)</h4>
                <p>×¤×ª×¨×•×Ÿ ×—×“×©× ×™ ×•×¤×•×¨×¥ ×“×¨×š</p>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-text">
                <span id="innovation-score">0</span>/25 - 
                <span id="innovation-level-text">×¨××ª ×—×“×©× ×•×ª: ×œ× ×”×•×¢×¨×š</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="innovation-progress"></div>
            </div>
        </div>
    </div>

    <!-- ××¤×ª ×”×ª××¦××•×ª ×œ××¡×“×¨×ª ×—×“×©× ×•×ª -->
    <div class="summary-box">
        <h3>ğŸ—ºï¸ ××¤×ª ×”×ª××¦××•×ª ×œ××¡×“×¨×ª ×—×“×©× ×•×ª</h3>
        <p>×¢×œ ×¤×™ ××¤×ª ×”×”×ª××¦××•×ª ×©×œ ××©×¨×“ ×”×—×™× ×•×š, ×‘×—×Ÿ ××ª ×”×”×™×‘×˜×™× ×”×‘××™× ×©×œ ×”×¤×¨×•×™×§×˜:</p>
        
        <!-- ×¤×“×’×•×’×™×” -->
        <div class="strategy-card">
            <h4>1. ×¤×“×’×•×’×™×” - ×”×©×™× ×•×™ ×”× ×“×¨×© ×‘×¨××” ×”×¤×“×’×•×’×™×ª</h4>
            <div class="innovation-assessment-grid">
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-seasons"> 
                        ×œ××™×“×ª ××§×¦×•×¢×•×ª ×”×œ×™×‘×” ×‘×ª×§×•×¤×•×ª ×œ××•×¨×š ×”×©× ×”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××§×¦×•×¢ ×œ×™×‘×” ×—×™×™×‘ ×œ×”×™×œ××“ ×‘×¨×¦×£ ×œ××•×¨×š ×›×œ ×”×©× ×”. ×ª× ××™×: ×‘×ª× ××™ ×©×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-interdisciplinary"> 
                        ×œ××™×“×” ×¨×‘ ×•×‘×™×Ÿ ×ª×—×•××™×ª ×—×•×¦×ª ××©×›×•×œ×•×ª
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×’××™×©×•×ª ×¢×“ 30% ×‘×ª×•×š ××©×›×•×œ ××§×¦×•×¢×•×ª. ×ª× ××™×: ×œ×•××“×™× ××ª ×›×œ ×”× ×“×¨×© ×‘×ª×—×•××™ ×”×“×¢×ª ×•×‘××™×©×•×¨ ××¤×"×¨.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-realworld"> 
                        ×œ××™×“×” ×‘××¨×—×‘×™ ×”×—×™×™×
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×‘××¡×’×¨×ª ×¡×™×•×¨ ×œ×™××•×“×™ ×¢× ××™×©×•×¨×™× ××ª××™××™×. ×ª× ××™×: ×¢×œ ×‘×¡×™×¡ ××™×©×•×¨×™ ×‘×˜×™×—×•×ª ×©×œ ×§×‘"×˜ ×¨×©×•×ª ×•××—×•×–.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-mentoring"> 
                        ×œ××™×“×” ×‘×—×•× ×›×•×ª
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××™×Ÿ ×’××•×œ ×—×™× ×•×š ×œ××•×¨×™× ×©××™× × ××—× ×›×™ ×›×™×ª×•×ª. ×ª× ××™×: ×ª×œ"×Ÿ ××ª×’××œ ×œ×—×•× ×›×•×ª ×œ× × ×™×ª×Ÿ ×‘×¤×™×¦×•×œ ×œ×™×‘×”.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-languages"> 
                        ×œ××™×“×” ×©×œ ×©×¤×” ×©× ×™×” ×•×©×œ×™×©×™×ª ××’×™×œ××™ ×”×’×Ÿ
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×©×¤×” ×©× ×™×” ××›×™×ª×” ×‘' ×•×©×¤×” ×©×œ×™×©×™×ª ××›×™×ª×” ×”. ×ª× ××™×: ×œ×•×•×“× ×©×œ× × ×¤×’×¢×ª ×”×”×ª×¤×ª×—×•×ª ×”×ª×§×™× ×” ×‘×©×¤×ª ×”××.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="pedagogy-active"> 
                        ×”×™×“×¢ × ×¨×›×© ×‘×××¦×¢×•×ª ×”××•×¨×” ×‘×ª×”×œ×™×›×™ ×œ×™××•×“ ×¤×¢×™×œ×•×ª×™×™×
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘×××¦×¢×•×ª ×¡×¤×¨×™ ×œ×™××•×“ ×××•×©×¨×™×. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
            </div>
        </div>

        <!-- ××¨×’×•×Ÿ -->
        <div class="strategy-card">
            <h4>2. ××¨×’×•×Ÿ - ×”×©×™× ×•×™ ×”× ×“×¨×© ×‘×¨××” ×”××¨×’×•× ×™×ª</h4>
            <div class="innovation-assessment-grid">
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-multiage"> 
                        ×œ××™×“×” ×¨×‘ ×’×™×œ××™×ª (×“×•, ×ª×œ×ª, ×’×Ÿ-×™×‘')
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘×›×™×ª×•×ª ×—×“ ×’×™×œ××™×•×ª ×‘×—×œ×•×§×” ×œ×©×œ×‘×™ ×’×™×œ. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-choice"> 
                        ×™×¦×™×¨×ª ××¨×—×‘×™ ×‘×—×™×¨×”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘××¢×¨×›×ª ×©×¢×•×ª ×›×™×ª×ª×™×ª ×©× ×ª×™×ª ×¢×œ ×¤×™ ××§×¦×•×¢×•×ª. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-independent"> 
                        ×œ××™×“×” ×¢×¦×××™×ª ×‘××¨×—×‘×™ ×œ××™×“×”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘××¢×¨×›×ª ×©×¢×•×ª ×›×™×ª×ª×™×ª ×©× ×ª×™×ª ×¢×œ ×¤×™ ××§×¦×•×¢×•×ª. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-continuous"> 
                        ×œ×™×•×•×™ ×”×›×™×ª×” ×¢×œ ×™×“×™ ××—× ×š ×¨×¦×™×£
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××—× ×š ××ª×—×œ×£ ×›×œ ×©×œ×•×© ×©× ×™× ×œ×¢×¨×š. ×ª× ××™×: ××§×œ×™× ×—×™× ×•×›×™ ×ª×§×™×Ÿ.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-personal"> 
                        ××¢×¨×›×ª ×œ××™×“×” ××™×©×™×ª ×©×›×œ ×ª×œ××™×“ ×‘×•× ×” ×œ×¢×¦××•
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘××¢×¨×›×ª ×©×¢×•×ª ×›×™×ª×ª×™×ª ×©× ×ª×™×ª ×¢×œ ×¤×™ ××§×¦×•×¢×•×ª. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-democratic"> 
                        × ×™×”×•×œ ×‘×™×ª ×”×¡×¤×¨ ×›×§×”×™×œ×” ×‘×•×•×¢×“×•×ª ×•×‘×¤×¨×œ×× ×˜
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×—×™×™ ×‘×™×ª ×”×¡×¤×¨ ××ª× ×”×œ×™× ×¢×œ ×¤×™ ×ª×§× ×•×Ÿ ×‘×™×ª ×¡×¤×¨×™. ×ª× ××™×: ×‘×œ×™××•×“×™ ×ª×œ"×Ÿ ×œ×œ× ×¤×™×¦×•×œ ×œ×™×‘×”.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="org-assessment"> 
                        ×ª×”×œ×™×›×™ ×”×¢×¨×›×” ××ª×§×™×™××™× ×‘×©×™×— ×“×™××œ×•×’×™ (×œ×œ× ××‘×—× ×™×)
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××ª×§×™×™××•×ª ×‘×—×™× ×•×ª ×¤× ×™××™×•×ª ×•×—×™×¦×•× ×™×•×ª ××—×™×“×•×ª ×œ×›×œ×œ ×”×›×™×ª×”. ×ª× ××™×: ×¢×•××“×™× ×‘××‘×—× ×™ ××¡×™×£ ×•×”×ª××•× ×” ×”×—×™× ×•×›×™×ª.</div>
                </div>
            </div>
        </div>

        <!-- ××©××‘×™× -->
        <div class="strategy-card">
            <h4>3. ××©××‘×™× - ×”×©×™× ×•×™ ×”× ×“×¨×© ××‘×—×™× ×ª ×›×•×— ××“×, ×–××Ÿ ×•×ª×§×¦×™×‘</h4>
            <div class="innovation-assessment-grid">
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="resources-experts"> 
                        ×§×œ×™×˜×ª ××•××—×™ ×ª×•×›×Ÿ ×œ×œ× ×ª×¢×•×“×ª ×”×•×¨××”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××•×¨×™× × ×“×¨×©×™× ×œ×ª×¢×•×“×ª ×”×•×¨××”. ×ª× ××™×: × ×™×ª×Ÿ ×¨×§ ×‘××¡×’×¨×ª ×©×¢×•×ª ×”×ª×œ"×  ××• ×‘×›×¨×˜×™×¡ ××¨×¦×” ×©×œ ××•××—×” ×‘×ª×—×•××•.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="resources-flexible"> 
                        ××¢×¨×›×ª ×©×¢×•×ª ×’××™×©×” - ×—×œ×•×§×ª ×©×¢×•×ª ×œ×™×—×™×“×•×ª ××™×§×¨×• ×œ××™×“×”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×¡×“×¨ ×”×™×•× ×¢×œ ×¤×™ ×ª×§× ×•×Ÿ ×¢×•×‘×“×™ ×”×•×¨××” ×‘×™×—×™×“×•×ª ×–××Ÿ ×©×œ 45-90 ×“×§'. ×ª× ××™×: × ×™×ª×Ÿ ×¨×§ ×‘××¡×’×¨×ª ×©×¢×•×ª ×”×ª×œ"× .</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="resources-compensation"> 
                        ×’××™×©×•×ª ×‘×ª×’××•×œ ××•×¨×™× ××—× ×›×™×
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×¨×§ ××—× ×š ×›×™×ª×” ××§×‘×œ ×’××•×œ ×—×™× ×•×š. ×ª× ××™×: ×××•×©×¨ ×‘××¡×’×¨×ª ×©×¢×•×ª ×¤×¨×˜× ×™×•×ª ××• ×‘×•×“×“×•×ª.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="resources-informal"> 
                        ×ª×’××•×œ ×¢×œ ×¤×¢×™×œ×•×ª ×‘×œ×ª×™ ×¤×•×¨×××œ×™×ª
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ× × ×™×ª×Ÿ ×’××•×œ ×¢×œ ×œ××™×“×” ×‘×œ×ª×™ ×¤×•×¨××œ×™×ª ××¢×‘×¨ ×œ×©×¢×•×ª ×”×ª×§×Ÿ. ×ª× ××™×: ×××•×©×¨ ×‘××¡×’×¨×ª ×©×¢×•×ª ×¤×¨×˜× ×™×•×ª ××• ×‘×•×“×“×•×ª.</div>
                </div>
            </div>
        </div>

        <!-- ×ª×©×ª×™×•×ª -->
        <div class="strategy-card">
            <h4>4. ×ª×©×ª×™×•×ª - ×”×©×™× ×•×™ ×”× ×“×¨×© ××‘×—×™× ×ª ×ª×©×ª×™×•×ª ×¤×™×–×™×•×ª ×•×˜×›× ×•×œ×•×’×™×•×ª</h4>
            <div class="innovation-assessment-grid">
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="infra-hybrid"> 
                        ×œ××™×“×” ×”×™×‘×¨×™×“×™×ª - ×‘××©××¨×•×ª
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×©×¢×•×ª ×”×œ×™××•×“×™× ××ª×§×™×™××•×ª ×¢×‘×•×¨ ×›×œ×œ ×”×ª×œ××™×“×™× ×‘×‘×™×ª ×”×¡×¤×¨ ××• ×‘××ª×›×•× ×ª ××§×•×•× ×ª ×œ×œ× ××©××¨×•×ª. ×ª× ××™×: ×˜×¨× ××•×©×¨.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="infra-tech"> 
                        ×œ××™×“×” ×‘×›×œ×™× ×˜×›× ×•×œ×•×’×™×™× ×©××™× × ×××•×©×¨×™×
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×œ××™×“×” ×‘×›×œ×™× ×˜×›× ×•×œ×•×’×™× ×××•×©×¨×™× ×‘×œ×‘×“. ×ª× ××™×: ×˜×¨× ××•×©×¨.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="infra-sites"> 
                        ×œ××™×“×” ×‘×›××” ××ª×¨×™× ×©×•× ×™× ×‘×ª×§×•×¤×•×ª ×œ××•×¨×š ×”×©× ×”
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ××™×Ÿ ×”×¤×¨×“×” ×‘×™×Ÿ ×¡××œ ××ª×¨ ×œ×¡××œ ××•×¡×“. ×ª× ××™×: ×¨×§ ×‘××ª×¨ × ×•×¡×£ ×œ××ª×¨ ×‘×™×ª ×”×¡×¤×¨ ×•×‘××™×©×•×¨×™ ×§×‘"×˜ ×¨×©×•×ª ×•××—×•×–.</div>
                </div>
                
                <div class="assessment-item">
                    <label>
                        <input type="checkbox" id="infra-informal"> 
                        ×œ××™×“×” ×‘×œ×ª×™ ×¤×•×¨××œ×™×ª × ×—×©×‘×ª ×›×©×¢×ª ×œ××™×“×” ×‘×ª×§×Ÿ
                    </label>
                    <div class="regulation-note">×¨×’×•×œ×¦×™×” ×§×™×™××ª: ×©×¢×•×ª ×”×ª×§×Ÿ ×œ×œ××™×“×ª ×ª×›× ×™×ª ×”×™×¡×•×“ ×¢×œ ×¤×™ ×ª×—×•××™ ×”×“×¢×ª. ×ª× ××™×: ×¨×§ ×‘×©×¢×•×ª ×ª×œ"×Ÿ ×™×™×—×•×“×™.</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ×¢×§×¨×•× ×•×ª ×—×“×©× ×•×ª ××—×¨××™×ª -->
    <div class="summary-box">
        <h3>âš–ï¸ ×¢×§×¨×•× ×•×ª ×—×“×©× ×•×ª ××—×¨××™×ª</h3>
        <p>×‘×—×Ÿ ××ª ×”×ª×××ª ×”×¤×¨×•×™×§×˜ ×œ×¢×§×¨×•× ×•×ª ×”×—×“×©× ×•×ª ×”××—×¨××™×ª:</p>
        
        <table class="compliance-table">
            <thead>
                <tr>
                    <th>×¢×™×§×¨×•×Ÿ</th>
                    <th>×ª×™××•×¨</th>
                    <th>×”×ª×™×™×—×¡×•×ª ×‘×¤×¨×•×™×§×˜</th>
                    <th>×¨××ª ×”×ª×××”</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>×—×•×§</strong><br>×›×¤×™×¤×•×ª ×œ× ×•×¨××•×ª ×”××—×™×™×‘×•×ª</td>
                    <td>×”××•×¡×“ ×™×”×™×” ×›×¤×•×£ ×œ×”×—×œ×˜×•×ª ×”××©×¨×“ ×œ×’×‘×™ ×ª×›× ×™×•×ª ×”×œ×™××•×“×™×, ×”× ×•×¨××•×ª, ×”××™××•×Ÿ ×•× ×”×œ×™ ×”×‘×˜×™×—×•×ª</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ×›×™×¦×“ ×”×¤×¨×•×™×§×˜ ×ª×•×× ×œ×“×¨×™×©×•×ª ×”××©×¨×“" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><strong>××ª×™×§×”</strong><br>×”×•×’× ×•×ª ×•× ×’×™×©×•×ª</td>
                    <td>×”×—×“×©× ×•×ª ×¤×•×¢×œ×ª ×ª×•×š ×©××™×¨×” ×¢×œ ×›×‘×•×“ ×”××“×, ×–×›×•×™×•×ª ×”×™×¡×•×“ ×•×¤×¨×˜×™×•×ª. × ×’×™×©×” ×œ×›×œ ×•××¡×¤×§×ª ××¢× ×” ×”×•×’×Ÿ</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ×›×™×¦×“ ××•×’× ×ª ×”×¤×¨×˜×™×•×ª ×•× ×©××¨×ª ×”×”×•×’× ×•×ª" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><strong>×©×§×™×¤×•×ª</strong><br>×”× ×’×©×ª ××™×“×¢</td>
                    <td>×”×¦×’×ª ×ª×›× ×™×•×ª ×œ×”× ×’×©×ª ×”××™×“×¢ ×œ××•×›×œ×•×¡×™×•×ª ×”×©×•× ×•×ª, ×‘××™×•×—×“ ××•×›×œ×•×¡×™×•×ª ×—×œ×©×•×ª</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ××ª ×ª×•×›× ×™×ª ×”×©×§×™×¤×•×ª ×•×”× ×’×©×ª ×”××™×“×¢" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><strong>×—×‘×¨×”</strong><br>×¡××›×•×ª ×•××—×¨×™×•×ª</td>
                    <td>×œ××•×¡×“ ×”×—×™× ×•×š ×¡××›×•×ª ×•××—×¨×™×•×ª ×œ×’×‘×™ ×”×§×•×¨×” ×‘×ª×•×›×•. ××—×•×™×‘×•×ª ×œ×ª×œ××™×“×™× ××¨×’×¢ ×”×‘×—×™×¨×” ×•×¢×“ ×¡×™×•× ×”×œ×™××•×“×™×</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ××ª ×× ×’× ×•× ×™ ×”××—×¨×™×•×ª ×•×”××—×•×™×‘×•×ª" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><strong>×©×œ×•××•×ª ×•××•×’× ×•×ª</strong><br>×¨×•×•×—×ª ×‘×¢×œ×™ ×”×¢× ×™×™×Ÿ</td>
                    <td>×”×—×“×©× ×•×ª ××™× ×” ×¤×•×’×¢×ª ×‘×¨×•×•×—×” ×”×§×•×’× ×™×˜×™×‘×™×ª, ×”×¨×’×©×™×ª, ×”×—×‘×¨×ª×™×ª ×•×”×’×•×¤× ×™×ª ×©×œ ×”×ª×œ××™×“×™×</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ×›×™×¦×“ × ×©××¨×ª ×¨×•×•×—×ª ×”×ª×œ××™×“×™× ×•×”×¦×•×•×ª" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><strong>×”×›×œ×” ×•×’×™×•×•×Ÿ</strong><br>×™×™×¦×•×’ ×”××•×›×œ×•×¡×™×™×”</td>
                    <td>×”××•×¡×“ ××©×§×£ ××ª ×”××•×›×œ×•×¡×™×™×” ×‘××§×•× ×—×‘×¨×ª×™×ª ×•×œ×™××•×“×™×ª. ×”×˜×¨×•×’× ×™×•×ª ×‘×”×¨×›×‘ ×”×ª×œ××™×“×™×</td>
                    <td><textarea class="risk-input" placeholder="×ª××¨ ×›×™×¦×“ ××•×‘×˜×—×ª ×”×›×œ×” ×•×’×™×•×•×Ÿ" rows="2"></textarea></td>
                    <td>
                        <select class="risk-input">
                            <option value="">×‘×—×¨ ×¨××”</option>
                            <option value="high">×’×‘×•×”×”</option>
                            <option value="medium">×‘×™× ×•× ×™×ª</option>
                            <option value="low">× ××•×›×”</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
        
        <div class="form-group" style="margin-top: 20px;">
            <label>×”×¢×¨×›×ª ×”×ª×××” ×›×œ×œ×™×ª ×œ×¢×§×¨×•× ×•×ª ×—×“×©× ×•×ª ××—×¨××™×ª:</label>
            <select id="overall-compliance" class="risk-input">
                <option value="">×œ× ×”×•×¢×¨×š</option>
                <option value="high">×’×‘×•×”×” - ×”×¤×¨×•×™×§×˜ ×¢×•××“ ×‘×›×œ ×”×¢×§×¨×•× ×•×ª</option>
                <option value="medium">×‘×™× ×•× ×™×ª - ×”×¤×¨×•×™×§×˜ ×¢×•××“ ×‘×¨×•×‘ ×”×¢×§×¨×•× ×•×ª</option>
                <option value="low">× ××•×›×” - ×”×¤×¨×•×™×§×˜ ×–×§×•×§ ×œ×©×™×¤×•×¨×™× ××©××¢×•×ª×™×™×</option>
            </select>
        </div>
    </div>

    <!-- ×”××œ×¦×•×ª ×œ××¡×“×¨×” -->
    <div class="summary-box">
        <h3>ğŸ“‹ ×”××œ×¦×•×ª ×œ×ª×”×œ×™×š ×”××¡×“×¨×”</h3>
        <div id="regulation-recommendations">
            <!-- ×™×ª××œ× ××•×˜×•××˜×™×ª ×‘×”×ª×‘×¡×¡ ×¢×œ ×”×‘×—×™×¨×•×ª -->
        </div>
        
        <div class="form-group">
            <label for="additional-considerations">×©×™×§×•×œ×™× × ×•×¡×¤×™× ×œ××¡×“×¨×”</label>
            <textarea id="additional-considerations" rows="3" placeholder="×”×•×¡×£ ×©×™×§×•×œ×™× × ×•×¡×¤×™× ×©×™×© ×œ×§×—×ª ×‘×—×©×‘×•×Ÿ ×‘×ª×”×œ×™×š ×”××¡×“×¨×”"></textarea>
        </div>
    </div>

    <div class="action-buttons">
        <button class="btn btn-gradient-forest btn-glow" onclick="calculateInnovationScore()">
            ğŸ”„ ×—×©×‘ ×¦×™×•×Ÿ ×—×“×©× ×•×ª
        </button>
        <button class="btn btn-gradient-ocean btn-animated btn-lg" onclick="showSection('report')">
            â¡ï¸ ×”××©×š ×œ×“×•×— ××¡×›×
        </button>
    </div>
</div>

            <div id="report" class="section">
                <h2>×“×•×— ××¡×›×</h2>
                <p>×“×•×— ×–×” ××¡×›× ××ª × ×™×ª×•×— ×”×¡×™×›×•× ×™× ×•××ª ×ª×•×›× ×™×ª ×”×”×ª××•×“×“×•×ª ×¢×‘×•×¨ ×”×¤×¨×•×™×§×˜.</p>
                
                <div class="summary-box">
                    <h3>×¤×¨×˜×™ ×”×¤×¨×•×™×§×˜</h3>
                    <div class="info-grid">
                        <div class="info-label">×©× ×”×¤×¨×•×™×§×˜:</div>
                        <div class="info-value editable" id="report-project-name" contenteditable="false"></div>
                        
                        <div class="info-label">×× ×”×œ ×”×¤×¨×•×™×§×˜:</div>
                        <div class="info-value editable" id="report-project-manager" contenteditable="false"></div>
                        
                        <div class="info-label">××•×¡×“ ×—×™× ×•×›×™/××¨×’×•×Ÿ:</div>
                        <div class="info-value editable" id="report-organization" contenteditable="false"></div>
                        
                        <div class="info-label">×”×™×§×£ ×”×¤×¨×•×™×§×˜:</div>
                        <div class="info-value editable" id="report-project-scope" contenteditable="false"></div>
                        
                        <div class="info-label">×¡×•×’ ×”×¤×¨×•×™×§×˜:</div>
                        <div class="info-value editable" id="report-project-type" contenteditable="false"></div>
                        
                        <div class="info-label">×ª××•×¨ ×”×¤×¨×•×™×§×˜:</div>
                        <div class="info-value editable" id="report-project-description" contenteditable="false"></div>
                        
                        <div class="info-label">×ª××¨×™×š ×”×ª×—×œ×”:</div>
                        <div class="info-value editable" id="report-start-date" contenteditable="false"></div>
                        
                        <div class="info-label">×ª××¨×™×š ×¡×™×•× ××©×•×¢×¨:</div>
                        <div class="info-value editable" id="report-end-date" contenteditable="false"></div>
                        
                        <div class="info-label">×‘×¢×œ×™ ×¢× ×™×™×Ÿ ××¨×›×–×™×™×:</div>
                        <div class="info-value editable" id="report-stakeholders" contenteditable="false"></div>
                    </div>
                </div>

                <div class="summary-box">
                    <h3>× ×™×ª×•×— ×¡×™×›×•× ×™× ×¢×™×§×¨×™×™×</h3>
                    <p>×œ×”×œ×Ÿ ×¤×™×¨×•×˜ ×”×¡×™×›×•× ×™× ×©×–×•×”×• ×•×¨××ª ×”×—×•××¨×” ×©×œ×”×:</p>
                    <table class="risk-table">
                        <thead>
                            <tr>
                                <th>×ª×™××•×¨ ×”×¡×™×›×•×Ÿ</th>
                                <th>×§×˜×’×•×¨×™×”</th>
                                <th>×”×¡×ª×‘×¨×•×ª</th>
                                <th>×¢×•×¦××ª × ×–×§</th>
                                <th>×¨××ª ×—×•××¨×”</th>
                            </tr>
                        </thead>
                        <tbody id="report-risks-table">
                            </tbody>
                    </table>
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-number risk-high" id="report-high-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” ×’×‘×•×”×”</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number risk-medium" id="report-medium-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” ×‘×™× ×•× ×™×ª</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number risk-low" id="report-low-risk-count">0</div>
                            <div class="stat-label">×¡×™×›×•× ×™× ×‘×¨××ª ×—×•××¨×” × ××•×›×”</div>
                        </div>
                    </div>
                </div>

                <div class="summary-box">
                    <h3>×ª×•×›× ×™×ª ×”×ª××•×“×“×•×ª ××•××œ×¦×ª</h3>
                    <p>×œ×”×œ×Ÿ ×ª×•×›× ×™×•×ª ×”×¤×¢×•×œ×” ×”××•××œ×¦×•×ª ×œ×›×œ ×¡×™×›×•×Ÿ ×©×–×•×”×”:</p>
                    <ul id="report-response-strategies">
                        </ul>
                </div>

                <div class="summary-box">
                    <h3>×”×¢×¨×›×ª ×—×“×©× ×•×ª ×•×¢××™×“×” ×‘××¡×“×¨×”</h3>
                    <div class="info-grid">
                        <div class="info-label">×¨××ª ×—×“×©× ×•×ª ×›×•×œ×œ×ª:</div>
                        <div class="info-value editable" id="report-innovation-level" contenteditable="false"></div>
                        
                        <div class="info-label">×ª×™××•×¨ ×”×—×“×©× ×•×ª:</div>
                        <div class="info-value editable" id="report-innovation-description" contenteditable="false"></div>
                    </div>
                    <p>×˜×‘×œ×ª ×¢××™×“×” ×‘×“×¨×™×©×•×ª ××¡×“×¨×”:</p>
                    <table class="compliance-table">
                        <thead>
                            <tr>
                                <th>× ×•×©×</th>
                                <th>×”×ª×™×™×—×¡×•×ª ×‘×¤×¨×•×™×§×˜</th>
                                <th>×¨××ª ×”×ª×××”</th>
                            </tr>
                        </thead>
                        <tbody id="report-compliance-table">
                            </tbody>
                    </table>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-animated btn-lg" onclick="window.print()">ğŸ–¨ ×”×“×¤×¡ ×“×•×—</button>
                    <button class="btn btn-success btn-animated btn-lg" onclick="saveReportData()">ğŸ’¾ ×©××•×¨ ×“×•×—</button>
                    <button class="btn btn-info btn-animated btn-lg" onclick="sendReport()">ğŸ“§ ×©×œ×— ×“×•×—</button>
                </div>
            </div>
        </div>
    </div>
    <div class="success-message" id="message-box"></div>
    <script>
        // Global state for edit mode
        let isEditing = false;
        let selectedProjectType = '';
        let selectedInnovationLevel = '';
        let risks = []; // Array to store risk data

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize sections
            showSection('project-setup');
            // Load saved data if any
            loadReportData();
            updateReportSection();
            generateRiskMatrix();
        });

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');

            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.onclick.toString().includes(`'${sectionId}'`)) {
                    tab.classList.add('active');
                }
            });

            // Update report content when navigating to the report section
            if (sectionId === 'report') {
                updateReportSection();
            }
        }

        function toggleEdit() {
            isEditing = !isEditing;
            const editButton = document.querySelector('.edit-toggle');
            editButton.classList.toggle('active', isEditing);
            editButton.textContent = isEditing ? 'âœ… ×¡×™×™× ×¢×¨×™×›×”' : 'ğŸ¨ ×”×ª×—×œ ×¢×¨×™×›×”';

            const editables = document.querySelectorAll('.editable');
            editables.forEach(el => {
                el.contentEditable = isEditing;
                el.classList.toggle('editing', isEditing);
            });
        }

        function selectProjectType(element, type) {
            const projectTypes = document.querySelectorAll('.project-type');
            projectTypes.forEach(pt => pt.classList.remove('selected'));
            element.classList.add('selected');
            selectedProjectType = type;
        }

        function selectInnovationLevel(element, level) {
            const innovationLevels = document.querySelectorAll('.innovation-level');
            innovationLevels.forEach(il => il.classList.remove('selected'));
            element.classList.add('selected');
            selectedInnovationLevel = level;
            updateInnovationScore();
        }

        function addRisk() {
            const riskTableBody = document.getElementById('risks-table');
            const newRow = riskTableBody.insertRow();
            newRow.innerHTML = `
                <td><input type="text" class="risk-input editable" placeholder="×ª×™××•×¨ ×¡×™×›×•×Ÿ" contenteditable="true"></td>
                <td><input type="text" class="risk-input editable" placeholder="×§×˜×’×•×¨×™×”" contenteditable="true"></td>
                <td><input type="number" min="1" max="10" class="risk-input editable" value="1" onchange="calculateRiskLevel(this.parentNode.parentNode)" contenteditable="true"></td>
                <td><input type="number" min="1" max="10" class="risk-input editable" value="1" onchange="calculateRiskLevel(this.parentNode.parentNode)" contenteditable="true"></td>
                <td><span class="risk-level risk-low">× ××•×›×”</span></td>
                <td><button class="btn btn-danger btn-sm" onclick="deleteRisk(this)">ğŸ—‘ï¸ ××—×§</button></td>
            `;
            calculateRiskLevel(newRow); // Calculate initial risk level for the new row
            toggleEditModeForNewElements(newRow); // Apply edit mode if active
        }

        function deleteRisk(button) {
            const row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
            calculateOverallRiskStats();
            generateRiskMatrix();
        }

        function calculateRiskLevel(row) {
            const probability = parseInt(row.children[2].querySelector('input').value);
            const impact = parseInt(row.children[3].querySelector('input').value);
            const severity = probability * impact;
            
            const severitySpan = row.children[4].querySelector('.risk-level');
            severitySpan.textContent = getRiskLevelText(severity);
            severitySpan.className = `risk-level ${getRiskLevelClass(severity)}`;

            calculateOverallRiskStats();
            generateRiskMatrix();
        }

        function getRiskLevelText(severity) {
            if (severity >= 65) return '×’×‘×•×”×”';
            if (severity >= 21) return '×‘×™× ×•× ×™×ª';
            return '× ××•×›×”';
        }

        function getRiskLevelClass(severity) {
            if (severity >= 65) return 'risk-high';
            if (severity >= 21) return 'risk-medium';
            return 'risk-low';
        }

        function calculateOverallRiskStats() {
            let highCount = 0;
            let mediumCount = 0;
            let lowCount = 0;

            const riskRows = document.querySelectorAll('#risks-table tr');
            riskRows.forEach(row => {
                const severityText = row.children[4].querySelector('.risk-level').textContent;
                if (severityText === '×’×‘×•×”×”') highCount++;
                else if (severityText === '×‘×™× ×•× ×™×ª') mediumCount++;
                else if (severityText === '× ××•×›×”') lowCount++;
            });

            document.getElementById('high-risk-count').textContent = highCount;
            document.getElementById('medium-risk-count').textContent = mediumCount;
            document.getElementById('low-risk-count').textContent = lowCount;
        }

        function generateRiskMatrix() {
            const matrixContainer = document.getElementById('risk-matrix');
            matrixContainer.innerHTML = ''; // Clear previous matrix

            // Create headers
            let headersHtml = '<div class="matrix-cell matrix-header"></div>';
            for (let i = 1; i <= 10; i++) {
                headersHtml += `<div class="matrix-cell matrix-header">${i}</div>`;
            }
            matrixContainer.innerHTML += headersHtml;

            for (let impact = 1; impact <= 10; impact++) {
                matrixContainer.innerHTML += `<div class="matrix-cell matrix-header">${impact}</div>`; // Impact header
                for (let probability = 1; probability <= 10; probability++) {
                    const severity = probability * impact;
                    const cellClass = getMatrixCellClass(severity);
                    matrixContainer.innerHTML += `<div class="matrix-cell ${cellClass}" title="P:${probability}, I:${impact}">${severity}</div>`;
                }
            }
        }

        function getMatrixCellClass(severity) {
            if (severity >= 65) return 'matrix-high';
            if (severity >= 21) return 'matrix-medium';
            return 'matrix-low';
        }

        function updateInnovationScore() {
            let score = 0;
            let levelText = '×œ× ×”×•×¢×¨×š';

            switch (selectedInnovationLevel) {
                case 'low': score = Math.floor(Math.random() * 8) + 1; levelText = '× ××•×›×”'; break; // 1-8
                case 'medium': score = Math.floor(Math.random() * 8) + 9; levelText = '×‘×™× ×•× ×™×ª'; break; // 9-16
                case 'high': score = Math.floor(Math.random() * 9) + 17; levelText = '×’×‘×•×”×”'; break; // 17-25
            }

            document.getElementById('innovation-score').textContent = score;
            document.getElementById('innovation-level-text').textContent = `×¨××ª ×—×“×©× ×•×ª: ${levelText}`;
            document.getElementById('innovation-progress').style.width = `${(score / 25) * 100}%`;
        }

        function updateReportSection() {
            // Project Details
            document.getElementById('report-project-name').textContent = document.getElementById('project-name').value;
            document.getElementById('report-project-manager').textContent = document.getElementById('project-manager').value;
            document.getElementById('report-organization').textContent = document.getElementById('organization').value;
            document.getElementById('report-project-scope').textContent = document.getElementById('project-scope').options[document.getElementById('project-scope').selectedIndex].text;
            document.getElementById('report-project-type').textContent = selectedProjectType ? document.querySelector(`.project-type[onclick*="${selectedProjectType}"] h4`).textContent : '';
            document.getElementById('report-project-description').textContent = document.getElementById('project-description').value;
            document.getElementById('report-start-date').textContent = document.getElementById('start-date').value;
            document.getElementById('report-end-date').textContent = document.getElementById('end-date').value;
            document.getElementById('report-stakeholders').textContent = document.getElementById('stakeholders').value;

            // Risks Table
            const reportRisksTableBody = document.getElementById('report-risks-table');
            reportRisksTableBody.innerHTML = '';
            const risksData = [];
            document.querySelectorAll('#risks-table tr').forEach(row => {
                const description = row.children[0].querySelector('input').value;
                const category = row.children[1].querySelector('input').value;
                const probability = row.children[2].querySelector('input').value;
                const impact = row.children[3].querySelector('input').value;
                const severityText = row.children[4].querySelector('.risk-level').textContent;
                
                reportRisksTableBody.innerHTML += `
                    <tr>
                        <td class="editable" contenteditable="false">${description}</td>
                        <td class="editable" contenteditable="false">${category}</td>
                        <td class="editable" contenteditable="false">${probability}</td>
                        <td class="editable" contenteditable="false">${impact}</td>
                        <td><span class="risk-level ${getRiskLevelClass(probability * impact)}">${severityText}</span></td>
                    </tr>
                `;
                risksData.push({ description, category, probability, impact, severityText });
            });
            // Update risk counts in report
            document.getElementById('report-high-risk-count').textContent = document.getElementById('high-risk-count').textContent;
            document.getElementById('report-medium-risk-count').textContent = document.getElementById('medium-risk-count').textContent;
            document.getElementById('report-low-risk-count').textContent = document.getElementById('low-risk-count').textContent;

            // Response Strategies
            const responseStrategiesList = document.getElementById('report-response-strategies');
            responseStrategiesList.innerHTML = '';
            document.querySelectorAll('#response-strategies .strategy-item').forEach(item => {
                const riskDescription = item.querySelector('.editable[contenteditable="true"]').textContent;
                const strategy = item.querySelector('textarea').value;
                if (riskDescription && strategy) {
                    responseStrategiesList.innerHTML += `<li><strong>${riskDescription}:</strong> ${strategy}</li>`;
                }
            });

            // Innovation Assessment
            document.getElementById('report-innovation-level').textContent = document.getElementById('innovation-level-text').textContent;
            document.getElementById('report-innovation-description').textContent = document.getElementById('innovation-description').value;

            // Compliance Table
            const reportComplianceTableBody = document.getElementById('report-compliance-table');
            reportComplianceTableBody.innerHTML = '';
            document.querySelectorAll('#innovation .compliance-table tbody tr').forEach(row => {
                const topic = row.children[0].textContent;
                const reference = row.children[1].querySelector('input').value;
                const suitability = row.children[2].querySelector('select').value;
                reportComplianceTableBody.innerHTML += `
                    <tr>
                        <td class="editable" contenteditable="false">${topic}</td>
                        <td class="editable" contenteditable="false">${reference}</td>
                        <td class="editable" contenteditable="false">${suitability}</td>
                    </tr>
                `;
            });

            // Reapply edit mode if active
            if (isEditing) {
                toggleEdit(); // Toggle off and then on to reapply editing styles
                toggleEdit();
            }
        }

        // Functions for managing dynamic risks and response strategies
        function updateResponseStrategies() {
            const responseStrategiesContainer = document.getElementById('response-strategies');
            responseStrategiesContainer.innerHTML = ''; // Clear existing

            document.querySelectorAll('#risks-table tr').forEach(row => {
                const description = row.children[0].querySelector('input').value;
                const severitySpan = row.children[4].querySelector('.risk-level');
                const severityText = severitySpan.textContent;

                if (severityText === '×’×‘×•×”×”' || severityText === '×‘×™× ×•× ×™×ª') {
                    const strategyDiv = document.createElement('div');
                    strategyDiv.classList.add('form-group');
                    strategyDiv.classList.add('strategy-item'); // Add a class for identification
                    strategyDiv.innerHTML = `
                        <label>××¡×˜×¨×˜×’×™×” ×œ×¡×™×›×•×Ÿ: <span class="editable" contenteditable="true">${description}</span> (×¨××ª ×—×•××¨×”: <span class="risk-level ${severitySpan.classList[1]}">${severityText}</span>)</label>
                        <textarea rows="3" class="editable" contenteditable="true" placeholder="×ª××¨ ××ª ×ª×•×›× ×™×ª ×”×”×ª××•×“×“×•×ª ×¢×‘×•×¨ ×¡×™×›×•×Ÿ ×–×”"></textarea>
                    `;
                    responseStrategiesContainer.appendChild(strategyDiv);
                    toggleEditModeForNewElements(strategyDiv);
                }
            });
        }

        // Observer to detect changes in the risks table and update strategies
        const observer = new MutationObserver(updateResponseStrategies);
        observer.observe(document.getElementById('risks-table'), { childList: true, subtree: true });

        // Function to apply edit mode to newly added elements
        function toggleEditModeForNewElements(parent) {
            if (isEditing) {
                const editables = parent.querySelectorAll('.editable');
                editables.forEach(el => {
                    el.contentEditable = true;
                    el.classList.add('editing');
                });
            }
        }

        function showMessage(msg) {
            const msgBox = document.getElementById('message-box');
            msgBox.textContent = msg;
            msgBox.classList.add('show');
            setTimeout(() => {
                msgBox.classList.remove('show');
            }, 3000);
        }

        // Save and Load Data (using localStorage for simplicity)
        function saveReportData() {
            const data = {
                projectName: document.getElementById('project-name').value,
                projectManager: document.getElementById('project-manager').value,
                organization: document.getElementById('organization').value,
                projectScope: document.getElementById('project-scope').value,
                selectedProjectType: selectedProjectType,
                projectDescription: document.getElementById('project-description').value,
                startDate: document.getElementById('start-date').value,
                endDate: document.getElementById('end-date').value,
                stakeholders: document.getElementById('stakeholders').value,
                
                risks: [],
                innovationLevel: selectedInnovationLevel,
                innovationDescription: document.getElementById('innovation-description').value,
                compliance: []
            };

            document.querySelectorAll('#risks-table tr').forEach(row => {
                data.risks.push({
                    description: row.children[0].querySelector('input').value,
                    category: row.children[1].querySelector('input').value,
                    probability: row.children[2].querySelector('input').value,
                    impact: row.children[3].querySelector('input').value,
                    severityText: row.children[4].querySelector('.risk-level').textContent,
                    severityClass: row.children[4].querySelector('.risk-level').classList[1]
                });
            });

            document.querySelectorAll('#response-strategies .strategy-item').forEach(item => {
                const riskDescription = item.querySelector('.editable[contenteditable="true"]').textContent;
                const strategy = item.querySelector('textarea').value;
                data.risks.find(r => r.description === riskDescription).strategy = strategy;
            });

            document.querySelectorAll('#innovation .compliance-table tbody tr').forEach(row => {
                data.compliance.push({
                    topic: row.children[0].textContent,
                    reference: row.children[1].querySelector('input').value,
                    suitability: row.children[2].querySelector('select').value
                });
            });

            localStorage.setItem('riskManagementReport', JSON.stringify(data));
            showMessage('âœ… × ×ª×•× ×™ ×”×“×•×— × ×©××¨×• ×‘×”×¦×œ×—×”!');
        }

        function loadReportData() {
            const savedData = localStorage.getItem('riskManagementReport');
            if (savedData) {
                const data = JSON.parse(savedData);

                document.getElementById('project-name').value = data.projectName || '';
                document.getElementById('project-manager').value = data.projectManager || '';
                document.getElementById('organization').value = data.organization || '';
                document.getElementById('project-scope').value = data.projectScope || '';
                if (data.selectedProjectType) {
                    selectProjectType(document.querySelector(`.project-type[onclick*="${data.selectedProjectType}"]`), data.selectedProjectType);
                }
                document.getElementById('project-description').value = data.projectDescription || '';
                document.getElementById('start-date').value = data.startDate || '';
                document.getElementById('end-date').value = data.endDate || '';
                document.getElementById('stakeholders').value = data.stakeholders || '';

                // Load risks
                const riskTableBody = document.getElementById('risks-table');
                riskTableBody.innerHTML = '';
                if (data.risks) {
                    data.risks.forEach(risk => {
                        const newRow = riskTableBody.insertRow();
                        newRow.innerHTML = `
                            <td><input type="text" class="risk-input editable" placeholder="×ª×™××•×¨ ×¡×™×›×•×Ÿ" value="${risk.description}" contenteditable="true"></td>
                            <td><input type="text" class="risk-input editable" placeholder="×§×˜×’×•×¨×™×”" value="${risk.category}" contenteditable="true"></td>
                            <td><input type="number" min="1" max="10" class="risk-input editable" value="${risk.probability}" onchange="calculateRiskLevel(this.parentNode.parentNode)" contenteditable="true"></td>
                            <td><input type="number" min="1" max="10" class="risk-input editable" value="${risk.impact}" onchange="calculateRiskLevel(this.parentNode.parentNode)" contenteditable="true"></td>
                            <td><span class="risk-level ${risk.severityClass}">${risk.severityText}</span></td>
                            <td><button class="btn btn-danger btn-sm" onclick="deleteRisk(this)">ğŸ—‘ï¸ ××—×§</button></td>
                        `;
                        calculateRiskLevel(newRow); // Recalculate to ensure correct classes and stats
                        toggleEditModeForNewElements(newRow);
                    });
                }
                calculateOverallRiskStats();
                generateRiskMatrix();
                
                // Load innovation assessment
                if (data.innovationLevel) {
                    selectInnovationLevel(document.querySelector(`.innovation-level[onclick*="${data.innovationLevel}"]`), data.innovationLevel);
                }
                document.getElementById('innovation-description').value = data.innovationDescription || '';

                // Load compliance
                if (data.compliance) {
                    document.querySelectorAll('#innovation .compliance-table tbody tr').forEach((row, index) => {
                        if (data.compliance[index]) {
                            row.children[1].querySelector('input').value = data.compliance[index].reference || '';
                            row.children[2].querySelector('select').value = data.compliance[index].suitability || '';
                        }
                    });
                }

                // Populate response strategies after risks are loaded
                setTimeout(updateResponseStrategies, 100); // Small delay to ensure risks are rendered

                if (data.risks) {
                    // This part needs to be run AFTER updateResponseStrategies has populated the elements
                    // A better way would be to pass the data directly to updateResponseStrategies
                    data.risks.forEach(risk => {
                        if (risk.strategy) {
                            const strategyItem = document.querySelector(`#response-strategies .strategy-item .editable[contenteditable="true"][data-risk-description="${risk.description}"]`);
                            if (strategyItem) {
                                strategyItem.parentNode.querySelector('textarea').value = risk.strategy;
                            }
                        }
                    });
                }

                showMessage('âœ… × ×ª×•× ×™ ×“×•×— ×§×•×“××™× × ×˜×¢× ×• ×‘×”×¦×œ×—×”!');
            }
        }

        function sendReport() {
            showMessage('ğŸ“§ ×¤×•× ×§×¦×™×™×ª ×©×œ×™×—×ª ×“×•×— ×œ× ×××•××©×ª ×›×¨×’×¢.');
        }
      // Innovation Assessment Functions
        function calculateInnovationScore() {
            // Check pedagogy innovations
            const pedagogyChecked = [
                'pedagogy-seasons', 'pedagogy-interdisciplinary', 'pedagogy-realworld',
                'pedagogy-mentoring', 'pedagogy-languages', 'pedagogy-active'
            ].filter(id => document.getElementById(id)?.checked).length;

            // Check organizational innovations
            const orgChecked = [
                'org-multiage', 'org-choice', 'org-independent',
                'org-continuous', 'org-personal', 'org-democratic', 'org-assessment'
            ].filter(id => document.getElementById(id)?.checked).length;

            // Check resource innovations
            const resourcesChecked = [
                'resources-experts', 'resources-flexible', 'resources-compensation', 'resources-informal'
            ].filter(id => document.getElementById(id)?.checked).length;

            // Check infrastructure innovations
            const infraChecked = [
                'infra-hybrid', 'infra-tech', 'infra-sites', 'infra-informal'
            ].filter(id => document.getElementById(id)?.checked).length;

            // Calculate weighted score
            const totalChecked = pedagogyChecked + orgChecked + resourcesChecked + infraChecked;
            const maxPossible = 21; // Total number of innovation items
            
            // Calculate score (1-25 scale)
            let innovationScore = Math.round((totalChecked / maxPossible) * 25);
            if (innovationScore === 0 && totalChecked > 0) innovationScore = 1;

            // Update innovation level based on score
            let level = 'low';
            if (innovationScore >= 17) level = 'high';
            else if (innovationScore >= 9) level = 'medium';

            // Update project data
            projectData.innovationScore = innovationScore;
            projectData.innovationLevel = level;

            // Update UI
            updateInnovationDisplay();
            updateInnovationLevelSelection(level);
            generateRegulationRecommendations();
            
            // Show success message
            showMessage(`âœ… ×¦×™×•×Ÿ ×”×—×“×©× ×•×ª ×—×•×©×‘: ${innovationScore}/25`);
        }

        function updateInnovationLevelSelection(level) {
            // Remove selected class from all levels
            const levels = document.querySelectorAll('.innovation-level');
            levels.forEach(l => l.classList.remove('selected'));
            
            // Add selected class to appropriate level
            const levelMap = {
                'low': 0,
                'medium': 1,
                'high': 2
            };
            
            if (levels[levelMap[level]]) {
                levels[levelMap[level]].classList.add('selected');
            }
        }

        function generateRegulationRecommendations() {
            const recommendationsDiv = document.getElementById('regulation-recommendations');
            if (!recommendationsDiv) return;

            let recommendations = [];
            
            // Check for high-regulation items
            const highRegulationItems = [
                { id: 'pedagogy-languages', text: '×œ×™××•×“ ×©×¤×•×ª ××’×™×œ ×”×’×Ÿ ×“×•×¨×© ×‘×“×™×§×” ×”×ª×¤×ª×—×•×ª×™×ª' },
                { id: 'org-multiage', text: '×œ××™×“×” ×¨×‘-×’×™×œ××™×ª ×“×•×¨×©×ª ××™×©×•×¨ ××™×•×—×“ ××”××¤×"×¨' },
                { id: 'resources-experts', text: '××•××—×™× ×œ×œ× ×ª×¢×•×“×ª ×”×•×¨××” ×“×•×¨×©×™× ××™×©×•×¨ ××™×•×—×“' },
                { id: 'infra-hybrid', text: '×œ××™×“×” ×”×™×‘×¨×™×“×™×ª ×‘××©××¨×•×ª ×˜×¨× ××•×©×¨×” - ×“×•×¨×© ××™×©×•×¨ ×—×“×©× ×•×ª' },
                { id: 'infra-tech', text: '×›×œ×™× ×˜×›× ×•×œ×•×’×™×™× ×œ× ×××•×©×¨×™× ×“×•×¨×©×™× ×‘×“×™×§×ª ××‘×˜×—×” ××™×•×—×“×ª' }
            ];

            // Check which high-regulation items are selected
            highRegulationItems.forEach(item => {
                const checkbox = document.getElementById(item.id);
                if (checkbox?.checked) {
                    recommendations.push(`ğŸ”´ ${item.text}`);
                }
            });

            // Check compliance levels
            const complianceSelects = document.querySelectorAll('.compliance-table select');
            let lowCompliance = 0;
            complianceSelects.forEach(select => {
                if (select.value === 'low') lowCompliance++;
            });

            if (lowCompliance > 0) {
                recommendations.push(`âš ï¸ ×–×•×”×• ${lowCompliance} ×ª×—×•××™× ×¢× ×”×ª×××” × ××•×›×” ×œ×¢×§×¨×•× ×•×ª ×”×—×“×©× ×•×ª ×”××—×¨××™×ª`);
            }

            // General recommendations based on innovation score
            if (projectData.innovationScore >= 17) {
                recommendations.push('ğŸŸ¡ ×¨××ª ×—×“×©× ×•×ª ×’×‘×•×”×” - × ×“×¨×© ××™×©×•×¨ ×•×¢×“×ª ××¡×“×¨×ª ×—×“×©× ×•×ª');
                recommendations.push('ğŸ“‹ ×”×›×Ÿ ×ª×™×¢×•×“ ××¤×•×¨×˜ ×©×œ ×”×ª×”×œ×™×›×™× ×”×—×“×©× ×™×™×');
                recommendations.push('ğŸ‘¥ ×§×‘×¢ ×¤×’×™×©×” ××§×“×™××” ×¢× × ×¦×™×’×™ ×”××’×£ ×œ×—×“×©× ×•×ª ×•×˜×›× ×•×œ×•×’×™×”');
            } else if (projectData.innovationScore >= 9) {
                recommendations.push('ğŸŸ  ×¨××ª ×—×“×©× ×•×ª ×‘×™× ×•× ×™×ª - ×‘×“×•×§ ×¦×•×¨×š ×‘××™×©×•×¨×™× ×‘×¨××” ×”××—×•×–×™×ª');
                recommendations.push('ğŸ“ ×ª×¢×“ ××ª ×”×©×™× ×•×™×™× ×”××ª×•×›× × ×™× ×‘×™×—×¡ ×œ×¨×’×•×œ×¦×™×” ×”×§×™×™××ª');
            } else {
                recommendations.push('ğŸŸ¢ ×¨××ª ×—×“×©× ×•×ª × ××•×›×” - × ×™×ª×Ÿ ×œ×”××©×™×š ×‘××¡×’×¨×ª ×”×¨×’×•×œ×¦×™×” ×”×§×™×™××ª');
            }

            // Display recommendations
            if (recommendations.length > 0) {
                recommendationsDiv.innerHTML = `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h4 style="margin-bottom: 10px; color: #2c3e50;">×”××œ×¦×•×ª ×œ×ª×”×œ×™×š ×”××¡×“×¨×”:</h4>
                        <ul style="margin: 0; padding-right: 20px;">
                            ${recommendations.map(rec => `<li style="margin-bottom: 8px;">${rec}</li>`).join('')}
                        </ul>
                    </div>
                `;
            } else {
                recommendationsDiv.innerHTML = `
                    <div style="background: #d5f4e6; padding: 15px; border-radius: 8px; border-left: 4px solid #27ae60;">
                        <p style="margin: 0; color: #27ae60; font-weight: bold;">âœ… ×œ× ×–×•×”×• ×¡×•×’×™×•×ª ××™×•×—×“×•×ª ×œ××¡×“×¨×”</p>
                    </div>
                `;
            }
        }

        // Enhanced innovation level selection
        function selectInnovationLevel(element, level) {
            // Remove selected class from all innovation levels
            const levels = document.querySelectorAll('.innovation-level');
            levels.forEach(l => l.classList.remove('selected'));
            
            // Add selected class to clicked element
            element.classList.add('selected');
            currentInnovationLevel = level;
            projectData.innovationLevel = level;
            
            // Update innovation score based on level (manual override)
            let score = 0;
            switch(level) {
                case 'low': score = 5; break;
                case 'medium': score = 13; break;
                case 'high': score = 21; break;
            }
            
            projectData.innovationScore = score;
            updateInnovationDisplay();
            generateRegulationRecommendations();
        }

        // Auto-calculate innovation score when checkboxes change
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners to all innovation checkboxes
            const innovationCheckboxes = document.querySelectorAll('input[type="checkbox"][id^="pedagogy-"], input[type="checkbox"][id^="org-"], input[type="checkbox"][id^="resources-"], input[type="checkbox"][id^="infra-"]');
            
            innovationCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    setTimeout(calculateInnovationScore, 100);
                });
            });

            // Add event listeners to compliance selects
            const complianceSelects = document.querySelectorAll('.compliance-table select');
            complianceSelects.forEach(select => {
                select.addEventListener('change', function() {
                    setTimeout(generateRegulationRecommendations, 100);
                });
            });
        });

        // Enhanced report generation with innovation assessment
        function generateInnovationReport() {
            updateProjectData();
            
            const pedagogyChecked = [
                'pedagogy-seasons', 'pedagogy-interdisciplinary', 'pedagogy-realworld',
                'pedagogy-mentoring', 'pedagogy-languages', 'pedagogy-active'
            ].filter(id => document.getElementById(id)?.checked);

            const orgChecked = [
                'org-multiage', 'org-choice', 'org-independent',
                'org-continuous', 'org-personal', 'org-democratic', 'org-assessment'
            ].filter(id => document.getElementById(id)?.checked);

            const resourcesChecked = [
                'resources-experts', 'resources-flexible', 'resources-compensation', 'resources-informal'
            ].filter(id => document.getElementById(id)?.checked);

            const infraChecked = [
                'infra-hybrid', 'infra-tech', 'infra-sites', 'infra-informal'
            ].filter(id => document.getElementById(id)?.checked);

            return {
                innovationScore: projectData.innovationScore,
                innovationLevel: projectData.innovationLevel,
                innovationDescription: projectData.innovationDescription,
                complianceLevel: projectData.complianceLevel,
                selectedInnovations: {
                    pedagogy: pedagogyChecked.length,
                    organization: orgChecked.length,
                    resources: resourcesChecked.length,
                    infrastructure: infraChecked.length,
                    total: pedagogyChecked.length + orgChecked.length + resourcesChecked.length + infraChecked.length
                }
            };
        }
// File Upload Functions
        let uploadedFile = null;
        let analysisData = null;

        function triggerFileInput() {
            document.getElementById('fileInput').click();
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Validate file type
            const allowedTypes = ['.pdf', '.doc', '.docx', '.txt'];
            const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
            
            if (!allowedTypes.includes(fileExtension)) {
                showMessage('âŒ ×¡×•×’ ×§×•×‘×¥ ×œ× × ×ª××š. ×× × ×”×¢×œ×” PDF, DOC, DOCX ××• TXT');
                return;
            }

            // Validate file size (max 10MB)
            const maxSize = 10 * 1024 * 1024; // 10MB
            if (file.size > maxSize) {
                showMessage('âŒ ×”×§×•×‘×¥ ×’×“×•×œ ××“×™. ×’×•×“×œ ××§×¡×™××œ×™: 10MB');
                return;
            }

            uploadedFile = file;
            showFileInfo(file);
            simulateFileAnalysis(file);
        }

        function showFileInfo(file) {
            const fileInfo = document.getElementById('fileInfo');
            const fileName = document.getElementById('fileName');
            const fileSize = document.getElementById('fileSize');
            
            fileName.textContent = file.name;
            fileSize.textContent = formatFileSize(file.size);
            fileInfo.style.display = 'flex';
            
            // Update upload area appearance
            const uploadArea = document.getElementById('fileUploadArea');
            uploadArea.style.display = 'none';
            
            showMessage('âœ… ×§×•×‘×¥ ×”×•×¢×œ×” ×‘×”×¦×œ×—×”!');
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function simulateFileAnalysis(file) {
            const progressDiv = document.getElementById('uploadProgress');
            const progressFill = document.getElementById('uploadProgressFill');
            const progressText = document.getElementById('uploadProgressText');
            
            progressDiv.style.display = 'block';
            progressText.textContent = '×× ×ª×— ××ª ×”××¡××š...';
            
            // Simulate analysis progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                progressFill.style.width = progress + '%';
                
                if (progress < 30) {
                    progressText.textContent = '×§×•×¨× ××ª ×”××¡××š...';
                } else if (progress < 60) {
                    progressText.textContent = '××–×”×” × ×•×©××™× ××¨×›×–×™×™×...';
                } else if (progress < 90) {
                    progressText.textContent = '×× ×ª×— ×¡×™×›×•× ×™× ×¤×•×˜× ×¦×™××œ×™×™×...';
                } else {
                    progressText.textContent = '××©×œ×™× × ×™×ª×•×—...';
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressDiv.style.display = 'none';
                        showAnalysisResults(file);
                    }, 500);
                }
            }, 100);
        }

        function showAnalysisResults(file) {
            // Simulate document analysis results
            const mockAnalysis = generateMockAnalysis(file.name);
            
            const resultsDiv = document.getElementById('analysisResults');
            const contentDiv = document.getElementById('analysisContent');
            
            contentDiv.innerHTML = mockAnalysis.content;
            analysisData = mockAnalysis.data;
            
            resultsDiv.style.display = 'block';
            showMessage('ğŸ” × ×™×ª×•×— ×”××¡××š ×”×•×©×œ×!');
        }

        function generateMockAnalysis(fileName) {
            // Generate mock analysis based on common project elements
            const projectTypes = ['×—×™× ×•×›×™', '×˜×›× ×•×œ×•×’×™', '×ª×©×ª×™×•×ª', '××¨×’×•× ×™'];
            const randomType = projectTypes[Math.floor(Math.random() * projectTypes.length)];
            
            const mockRisks = [
                { description: '×¢×™×›×•×‘ ×‘×œ×•×— ×”×–×× ×™× ×‘×©×œ ×’×•×¨××™× ×—×™×¦×•× ×™×™×', probability: 6, impact: 7 },
                { description: '×§×©×™×™× ×‘×”×ª×××ª ×”×¦×•×•×ª ×œ×˜×›× ×•×œ×•×’×™×•×ª ×—×“×©×•×ª', probability: 5, impact: 6 },
                { description: '×ª×§×¦×™×‘ ×œ× ××¡×¤×™×§ ×œ×›×™×¡×•×™ ×›×œ ×”×¤×¢×™×œ×•×™×•×ª', probability: 4, impact: 8 },
                { description: '×”×ª× ×’×“×•×ª ××©×ª××©×™× ×œ×©×™× ×•×™', probability: 7, impact: 5 }
            ];

            const analysis = {
                content: `× ×•×©× ×”×¤×¨×•×™×§×˜: ${fileName.replace(/\.[^/.]+$/, "")}
×¡×•×’ ×¤×¨×•×™×§×˜ ××–×•×”×”: ${randomType}

× ×•×©××™× ××¨×›×–×™×™× ×©×–×•×”×•:
â€¢ ×™×™×©×•× ×˜×›× ×•×œ×•×’×™×•×ª ×—×“×©×•×ª
â€¢ ×©×™×¤×•×¨ ×ª×”×œ×™×›×™× ×§×™×™××™×  
â€¢ ×”×›×©×¨×ª ×¦×•×•×ª
â€¢ × ×™×”×•×œ ×©×™× ×•×™ ××¨×’×•× ×™

×¡×™×›×•× ×™× ×¤×•×˜× ×¦×™××œ×™×™× ×©×–×•×”×•:
â€¢ ×¡×™×›×•× ×™ ×œ×•×— ×–×× ×™×
â€¢ ×¡×™×›×•× ×™× ×˜×›× ×•×œ×•×’×™×™×
â€¢ ×¡×™×›×•× ×™× ×ª×§×¦×™×‘×™×™×
â€¢ ×¡×™×›×•× ×™× ××¨×’×•× ×™×™×

×¨××ª ×—×“×©× ×•×ª ××©×•×¢×¨×ª: ×‘×™× ×•× ×™×ª-×’×‘×•×”×”
×”××œ×¦×” ×œ××¡×“×¨×”: ×‘×“×™×§×” ××—×•×–×™×ª × ×“×¨×©×ª`,
                data: {
                    projectName: fileName.replace(/\.[^/.]+$/, ""),
                    projectType: randomType,
                    description: `×¤×¨×•×™×§×˜ ${randomType} ×”××™×•×¢×“ ×œ×©×™×¤×•×¨ ×ª×”×œ×™×›×™× ×§×™×™××™× ×•×™×™×©×•× ×˜×›× ×•×œ×•×’×™×•×ª ×—×“×©×•×ª ×‘××˜×¨×” ×œ×”×’×‘×™×¨ ×™×¢×™×œ×•×ª ×•××™×›×•×ª`,
                    risks: mockRisks,
                    innovationLevel: 'medium'
                }
            };
            
            return analysis;
        }

        function applyAnalysisToForm() {
            if (!analysisData) return;
            
            // Apply extracted data to form fields
            if (analysisData.projectName) {
                const nameField = document.getElementById('project-name');
                if (nameField) nameField.value = analysisData.projectName;
            }
            
            if (analysisData.description) {
                const descField = document.getElementById('project-description');
                if (descField) descField.value = analysisData.description;
            }
            
            // Select project type
            if (analysisData.projectType) {
                const typeMap = {
                    '×—×™× ×•×›×™': 'educational',
                    '×˜×›× ×•×œ×•×’×™': 'technological', 
                    '×ª×©×ª×™×•×ª': 'infrastructure',
                    '××¨×’×•× ×™': 'organizational'
                };
                
                const typeKey = typeMap[analysisData.projectType];
                if (typeKey) {
                    const typeElement = document.querySelector(`[onclick*="${typeKey}"]`);
                    if (typeElement) {
                        selectProjectType(typeElement, typeKey);
                    }
                }
            }
            
            // Add risks to table
            if (analysisData.risks && analysisData.risks.length > 0) {
                analysisData.risks.forEach(risk => {
                    addRisk();
                    
                    // Find the last added risk and populate it
                    setTimeout(() => {
                        const lastRow = document.querySelector('#risks-table tr:last-child');
                        if (lastRow) {
                            const inputs = lastRow.querySelectorAll('input');
                            if (inputs[0]) inputs[0].value = risk.description;
                            if (inputs[1]) inputs[1].value = risk.probability;
                            if (inputs[2]) inputs[2].value = risk.impact;
                            
                            // Update the risk data
                            const lastRisk = risks[risks.length - 1];
                            if (lastRisk) {
                                lastRisk.description = risk.description;
                                lastRisk.probability = risk.probability;
                                lastRisk.impact = risk.impact;
                                lastRisk.severity = risk.probability * risk.impact;
                                
                                // Update severity display
                                const severitySpan = lastRow.querySelector('.risk-level');
                                if (severitySpan) {
                                    severitySpan.textContent = lastRisk.severity;
                                    severitySpan.className = 'risk-level ' + getRiskLevelClass(lastRisk.severity);
                                }
                            }
                        }
                    }, 100);
                });
                
                // Update risk counts and matrix after all risks are added
                setTimeout(() => {
                    updateRiskCounts();
                    generateRiskMatrix();
                }, 500);
            }
            
            // Set innovation level
            if (analysisData.innovationLevel) {
                const levelElements = document.querySelectorAll('.innovation-level');
                const levelMap = { 'low': 0, 'medium': 1, 'high': 2 };
                const levelIndex = levelMap[analysisData.innovationLevel];
                
                if (levelElements[levelIndex]) {
                    selectInnovationLevel(levelElements[levelIndex], analysisData.innovationLevel);
                }
            }
            
            // Update project data
            updateProjectData();
            
            showMessage('âœ… × ×ª×•× ×™ ×”××¡××š ×”×•×—×œ×• ×¢×œ ×”×˜×•×¤×¡ ×‘×”×¦×œ×—×”!');
            
            // Hide analysis results
            document.getElementById('analysisResults').style.display = 'none';
        }

        function removeFile() {
            uploadedFile = null;
            analysisData = null;
            
            document.getElementById('fileInfo').style.display = 'none';
            document.getElementById('analysisResults').style.display = 'none';
            document.getElementById('uploadProgress').style.display = 'none';
            document.getElementById('fileUploadArea').style.display = 'block';
            document.getElementById('fileInput').value = '';
            
            showMessage('ğŸ—‘ï¸ ×”×§×•×‘×¥ ×”×•×¡×¨');
        }

        // Drag and drop functionality
        document.addEventListener('DOMContentLoaded', function() {
            const uploadArea = document.getElementById('fileUploadArea');
            
            if (uploadArea) {
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, preventDefaults, false);
                });
                
                ['dragenter', 'dragover'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, highlight, false);
                });
                
                ['dragleave', 'drop'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, unhighlight, false);
                });
                
                uploadArea.addEventListener('drop', handleDrop, false);
            }
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        function highlight(e) {
            document.getElementById('fileUploadArea').classList.add('drag-over');
        }

        function unhighlight(e) {
            document.getElementById('fileUploadArea').classList.remove('drag-over');
        }

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                const fakeEvent = { target: { files: files } };
                handleFileUpload(fakeEvent);
            }
        }
        // Initial calls
        generateRiskMatrix();
        calculateOverallRiskStats(); // To set initial 0 counts
    </script>
</body>
</html>
